\chapter{Invariant subgroups}

% horovevski
% A-nilpotencia
\label{invariant}

\section*{A}

We say that a group $G$ acts on a group $K$ by automorphism if the (left) action
\[
G\times K\to K,
\quad
(g,x)\mapsto g\cdot x,
\]
satisfies $g\cdot (xy)=(g\cdot x)(g\cdot y)$ 
for all $g\in G$ and $x,y\in K$. 
The group 
\[
C_{K}(G)=\{x\in K:g\cdot x=x\text{ for all }g\in G\}
\]
acts on the 
set of $G$-orbits by left multiplication. Indeed, if $x\in K$ and $c\in C_K(G)$, then $g\cdot c=c$ for all $g\in G$. Thus  
\begin{align*}
  c(G\cdot x)
  &=\{c(g\cdot x):g\in G\}\\
  &=\{(g\cdot c)(g\cdot x):g\in G\}
  =\{g\cdot (cx):g\in G\}
  =G\cdot (cx).
\end{align*}

The following theorem goes back to Deaconescu and Walls~\cite{MR2164558}. 
Our proof is that of Isaacs, see~\cite{MR2922681}. 

\begin{theorem}[Deaconescu--Walls]
	\index{Deaconescu--Walls!theorem}
	\label{thm:DeaconescuWalls}
	Let the group $G$ acts by automorphism on a finite gorup $K$. Let
	$C=C_{K}(G)$ and $N=C\cap [G,K]$,
	where $[G,K]$ is the subgroup of $K$ generated by $[g,x]=(g\cdot x)x^{-1}$ for all
	$g\in G$ and $x\in K$. Then the index $(C:N)$ divides the number of $G$-orbits of 
	$K$. 
\end{theorem}

%\begin{lemma}
%  \label{lemma:Isaacs}
%  Sea $X$ una órbita y sea $U\subseteq C$. Supongamos que, si consideramos la
%  acción de $U$ por multiplicación a izquierda en las órbitas, existe $X$ tal
%  que $UX=X$. Entonces todo $u\in U$ se escribe como $u=[a,g]$ para algún $a\in
%  G$, $g\in K$.
%\end{lemma}
%
%\begin{proof}
%  Existen $u\in U$, $g\in X$ tales que $ug\in X$. Pero como $X$ es la
%  $G$-órbita de $g$, existe $a\in G$ tal que $ug=a\cdot g$. Luego
%  $u=(a\cdot g)g^{-1}=[a,g]$. 
%\end{proof}

\begin{proof}
  The group $C$ acts by left multiplication on the set $\Omega$ of
  $G$-orbits on $K$. Let $X=G\cdot x\in\Omega$ be an orbit and $C_X$ be the stabilizer of $X$ 
  in $C$ de $X$. If $c\in C_X$, then $cX=X$. In particular, if $c\in C_X$, then 
  $cx=g\cdot x$ for some $g\in G$. Thus 
  \[
  c=(g\cdot
  x)x^{-1}=[g,x]\in [G,K]
  \]
  and hence $C_X\subseteq N$.

  To prove that $(C:N)$ divides the size of $\Omega$, 
  decompose $\Omega$ as a disjoint union of $C$-orbits. Then 
  it is enough to show that 
  $(C:N)$ divides the size of each $C$-orbit. If $X\in\Omega$, then $C\cdot
  X$ has size 
  \[
	(C:C_X)=(C:N)(N:C_X).
  \]
  Thus $(C:N)$ divides the size of $C\cdot X$.
\end{proof}

\begin{corollary}
  \label{cor:Z(K)subset[K,K]}
  Let $K$ be a non-trivial finite group with $k$ conjugacy classes. If 
  $|Z(K)|$ and $k$ are coprime, then  
  $Z(K)\subseteq[K,K]$.
\end{corollary}

\begin{proof}
	Let the group $K$ acts on $K$ by conjugation, which is an action by automorphism. 
	Deaconescu--Walls' theorem implies that 
	$(Z(K):Z(K)\cap [K,K])$ divides $k$. Since $k$ and $|Z(K)|$ are coprime, it follows that 
	$Z(K)=Z(K)\cap [K,K]\subseteq [K,K]$. 
\end{proof}

\index{Automorfism!central}
Let $K$ be a group and $f\in\Aut(K)$. Then $f$ is \textbf{central} if
$f(x)x^{-1}\in Z(K)$ for all $x\in K$. Note that $f\in\Aut(K)$ is central
if and only if $f\in C_{\Aut(K)}(\Inn(K))$.

\begin{corollary}
	Let $K$ be a finite group with $k$ conjugacy classes and $c$ central automorphisms. 
	If $\gcd(|K|,kc)=1$, then $[K,K]=Z(K)$.
\end{corollary}

\begin{proof}
	By Corollary~\ref{cor:Z(K)subset[K,K]}, $Z(K)\subseteq [K,K]$. 
	
	Let us prove
	that $Z(K)\supseteq [K,K]$. Let 
	$G=C_{\Aut(K)}(\Inn(K))$. Since $\gcd(|K|, kc)=1$ and 
	$(C_K(G):C_K(G)\cap [G,K])$ divides $c$, 
	Deaconescu--Walls' theorem, it follows that $C_K(G)=C_K(G)\cap [G,K]$. 
	Since $[K,K]\subseteq C_K(G)$, as 
	\[
		a\cdot [x,y]=[(a\cdot x)x^{-1}x,(a\cdot y)y^{-1}y]=[x,y]
	\]
	for all $a\in G$, $x,y\in K$ and $[G,K]\subseteq Z(K)$, we conclude that 
	\[
	[K,K]\subseteq C_K(G)=C_K(G)\cap [G,K]\subseteq [G,K]\subseteq Z(K).\qedhere 
	\]
\end{proof}

\begin{corollary}
  Let $p$ be a prime number. If $K$ is a group with $p$ conjugacy classes, then 
  $Z(K)\subseteq[K,K]$ or $|K|=p$. 
\end{corollary}

\begin{proof}
  Let $K$ acts on $K$ by conjugation. Since every element of $C=Z(K)$
  form a conjugacy class, $|C|\leq p$. If $|C|=p$, then $K=C=Z(K)$
  has $p$ elements. Otherwise, $\gcd(|C|,p)=1$ and hence $C\subseteq
  N=[K,K]$.
\end{proof}

\section*{B}

% A-nilpotentes
% 4C de Isaacs


Let a group $G$ acts on $K$ by automorphisms. Recall that $G$ can be identified with a subgroup
of the semidirect product $K\rtimes G$ and $K$ can be identified by a normal 
subgroup of $K\rtimes G$. The subgroup
\[
[G,K]=\langle (g\cdot x)x^{-1}:g\in G,\,x\in K\rangle
\]
is normal in $K$. 

\index{Subgroup!invariant}
A subgroup $H$ of $K$ is \textbf{$G$-invariant} if $g\cdot H\subseteq H$ for all $g\in G$. 
For example, $[G,K]$ is $G$-invaraint, as
\begin{align*}
g_1\cdot [g,x]&=[g_1gg_1^{-1}, g_1\cdot x]
\end{align*}
for all $g,g_1\in G$ and $x\in K$.

If $H$ is a $G$-invariant subgroup of $K$, then $G$ permutes the cosets of $H$ in $K$. If, moreover, $H$ is normal in $K$, then
$G$ acts on $K/H$ by automorphisms. This is the \textbf{induced action} of $G$ on $K/H$. Let $\pi\colon K\to K/H$ be the canonical
map. Then 
\[
\pi(g\cdot x)=(g\cdot x)H=g\cdot (xH)=g\cdot\pi(x)
\]
for all $g\in G$ and $x\in K$. Moreover, 
\[
\pi([g,x])=\pi( (g\cdot x)x^{-1})=\pi(g\cdot x)\pi(x)^{-1}=(g\cdot\pi(x))\pi(x)^{-1}=[g,\pi(x)].
\]

\begin{exercise}
Let $G$ acts on $K$ by automorphisms. Then $[G,K]$ is the unique smallest $G$-invariant 
subgroup of $K$ such that the induced action of $G$ on $K/[G,K]$ is trivial. 	
\end{exercise}

%\begin{proof}
%Let $H$ be a normal $G$-invariant subgroup of $K$ and let $\pi\colon K\to K/H$ be the canonical map. The group 
%$G$ acts trivially on $K/H$ 	if and only if 
%\[
%\{1\}=[G,\pi(K)]=\pi([G,K])
%\Longleftrightarrow [G,K]\subseteq H.\qedhere
%\]
%\end{proof}

\begin{proposition}
Let $H$ be a subgroup of $K$. Each right coset of $H$ in $K$ is $G$-invariant if and only if 
$[G,K]\subseteq H$. In particular, $[G,K]$ is the unique smallest subgroup of $K$ with the 
property that all its right cosets are $G$-invariant. 	
\end{proposition}

\begin{proof}
	Assume first that all right cosets of $H$ in $K$ are $G$-invariant. If $g\in G$ and $x\in K$, then
	$g\cdot x\in g\cdot (Hx)=Hx$ and hence $[g,x]=(g\cdot x)x^{-1}\in H$. This implies that $[G,K]\subseteq H$. 
	Conversely, assume that $[G,K]\subseteq H$. Then every right coset of $H$ in $K$ 
	is a disjoint union of right cosets of $[G,K]$ in $K$. 
	Since all these right cosets are $G$-invariant, it follows
	that each right coset of $H$ is also $G$-invariant. 	 
\end{proof}

The bijective map $xH\mapsto Hx^{-1}$ can be used to prove that all right cosets 
of $H$ in $K$ are $G$-invariant if and only if all left cosets of $H$ in $K$ are $G$-invariant. 

An action is said to be \textbf{faithful} if $g\cdot x=x$ for all $x$ implies that $g=1$. 
Note that if the action is faithful, then $C_G(K)=\{1\}$. 

The \textbf{kernel}
of an action is the (normal) subgroup $N$ of elements that act trivially. In this case, the quotient group
$G/N$ acts by $\pi(g)\cdot x=g\cdot x$ and the action is faithful. Note that
the kernel of the action 
is the subgroup $C_G(K)$ of $K\rtimes G$. Note that $C_G(K)$ is isomorphic to 
the largest subgroup $N$ of $G$ such that $[N,K]=\{1\}$. If $N=C_G(K)$, then $N$ is normal in $G$. In this case,
the quotient group $G/N$ acts on $K$ by $g\cdot x=\pi(g)\cdot x$. 

%\begin{exercise}
%If $H$ is a $G$-invariant subgroup of $K$, then $G/N	
%\end{exercise
It will be convenient to introduce the following notaiton. 

Let 
$[G,\dots,G,K]_1 = [G,K]$ and $[G,\dots,G,K]_{m+1}=[G,\dots,G,[G,K]]_m$ for $m\geq 1$. Note that 
\[
[G,\dots,G,K]_{m}=[\underbrace{G,\dots,G}_{\text{$m$-copies}},K]
\] 
for $m\geq 1$.

\begin{theorem}
Let $G$ act by automorphisms on $K$. If $[G,\dots,G,K]_m=\{1\}$, then
$G^{(m-1)}\subseteq  C_G(K)$. In particular, if the action is faithful, 
then $G$ is solvable 
and its derived series has length $\leq m-1$.
\end{theorem}

\begin{proof}
	Let us prove that $G^{(m-1)}\subseteq  C_G(K)$ for all $m$. We proceed by induction on $m$. If $m=1$, then 
	$[G,K]=\{1\}$ by assumption and thus 
	$G^{(0)}=G=C_G(K)$. Assume now that the result holds for some $m\geq1$. L
	et $L=[G,K]$. Then
	\[
	\{1\}=[G,\dots,G,K]_m=[G,\dots,G,L]_{m-1}.
	\]
	Since $L$ is $G$-invariant, $G$ acts on $L$. 
	By the inductive hypothesis, $G^{(m-2)}\subseteq C_G(L)$, which 
	implies that $[G^{(m-2)},L]=\{1\}$. Thus 
	\[
	[G^{(m-2)},G^{(m-2)},K]\subseteq [G^{(m-2)},G,K]=[G^{(m-2},L]=\{1\}.
	\]
	Moreover, since $[G^{(m-2)},K]=[K,G^{(m-2)}]$, 
	it follows that 
	\[
	[G^{(m-2)},K,G^{(m-2)}]=\{1\}.
	\]
	The three-subgroups Lemma
	with $X=Y=G^{(m-2)}$ and $Z=K$ implies that 
	\[
	\{1\}=[K,G^{(m-2},G^{(m-2)}]=[K,G^{(m-1)}].
	\]  
	Hence $G^{(m-1)}\subseteq C_G(K)$. In particular, if the action is faithful, 
	then $C_G(K)=\{1\}$ and the claim follows. 
\end{proof}

\begin{theorem}[Hall]
\index{Hall's theorem}
Let $G$ be a finite group that acts faithfully on $K$. If $[G,\dots,G,K]_m=\{1\}$ for some $m$, then $G$ is nilpotent. 
\end{theorem}

\begin{proof}
	We proceed by induction on $|G|$. 
\end{proof}


\section*{C}

Let $G$ be a finite group and $\sigma\in\Aut(G)$. The $\sigma$-orbit of an element $g\in G$ is defined
as the set
\[
O(\sigma,g)=\{\sigma^j(g):j\in\Z\}=\{\sigma^j(g):\sigma_j\in\langle\sigma\rangle\}.
\]

\index{Faithful orbit}
We say that $O(\sigma,g)$ is a \textbf{faithful orbit} if $|O(\sigma,g)|=|\sigma|$. 

\begin{lemma}
Let $G$ be a finite group and $p$ be a prime number such that $p^2$ divides $|\sigma|$. 
Then $\sigma$ admits a faithful orbit if and only if $\sigma^p$ admits a faithful orbit. 	
\end{lemma}



\begin{lemma}
Let $N$ be a normal subgroup of $G$ and $\sigma\in\Aut(G)$. If $\sigma|_N=\id$, then 
$\sigma$ induces the identity in $G/C_G(N)$. 	
\end{lemma}

\begin{proof}
 	Let $g\in C_G(M)$, $n\in N$ and $x\in G$.
	We first prove that 	the subgroup $C_G(N)$ is normal in $G$. In fact,  
	\[
	xgx^{-1}n=xg(x^{-1}nx)x^{-1}=x(x^{-1}nx)gx^{-1}=nxgx^{-1}.
	\]
	
	We now prove that $C_G(N)$ is $\sigma$-invariant. Since $\sigma(n)=n$, 
	\[
	[\sigma(g),n]=\sigma(g)n\sigma(g)^{-1}n^{-1}=\sigma(gng^{-1}n^{-1})=\sigma(1)=1.
	\] 
	
	Since $N$ is normal in $G$, 
	\[
	xnx^{-1}=\sigma(xnx^{-1})=\sigma(x)\sigma(n)\sigma(x)^{-1}=\sigma(x)n\sigma(x)^{-1}
	\]
	and hence $x^{-1}\sigma(x)\in C_G(N)$. Therefore the homomorphism on $C/C_G(N)$ induced
	by $\sigma$ satisfies   
	\[
	\sigma(xC_G(N))=\sigma(x)C_G(N)=xC_G(N)C_G(N)=xC_G(N).\qedhere
	\]
\end{proof}



\section*{D}

\begin{definition}
\index{Brace!left series}
Let $A$ be a brace. One defines
$A^1=A$ and for $n\geq1$
\begin{align*}
    & A^{n+1}=A*A^{n}=\langle a*x: a\in A,\,x\in A^{n}\rangle_+.
\end{align*}
The sequence $A^1\supseteq A^2\supseteq A^3\supseteq\cdots\supseteq A^n\supseteq\cdots$
is the \emph{left series} of $A$.
\end{definition}

\begin{proposition}
    \label{pro:left_series}
    Let $A$ be a brace. Each $A^{n}$ is a left ideal of $A$.
\end{proposition}

\begin{proof}
    We proceed by induction on $n$. The case $n=1$ is trivial, so we may assume
    that the result is true for some $n\geq1$. Let $a,b\in A$ and $x\in A^n$.
    By the inductive hypothesis, $\lambda_a(x)\in A^n$ and hence
    \[
        \lambda_a(b*x)=(a\circ b\circ a')*\lambda_a(x)\in A^{n+1},
    \]
where the equality follows by~\eqref{eq:another_trick}. This implies
that $\lambda_a(A^{n+1})\subseteq A^{n+1}$. Thus the result
follows.
\end{proof}

\begin{definition}
\index{Brace!left nilpotent}
    A brace $A$ is said to be \emph{left nilpotent} if $A^{m}=\{0\}$ for some
    $m\geq1$.
\end{definition}

Some basic properties of left nilpotent braces appear in Exercises~\ref{prob:LN_direct}--\ref{prob:LN_sub}. 

% \begin{lemma}
%     Let $f\colon A\to B$ be a surjective homomorphism of skew left braces. Then
%     $f(A^{k})=B^{k}$ for all $k$. In particular, if $A$ is left nilpotent,
%     then $B$ is left nilpotent.
% \end{lemma}
% \begin{proof}
%     It is similar to the proof of Lemma~\ref{lem:right_nilpotent:quotient}.
% \end{proof}
% \begin{lemma}
%     Let $A$ be a left nilpotent skew left brace and $B\subseteq A$ be a sub skew left
%     brace. Then $B$ is left nilpotent.
% \end{lemma}
% \begin{proof}
%     It is similar to the proof of Lemma~\ref{lem:right_nilpotent:sub}.
% \end{proof}
% \begin{lemma}
%     \label{lem:left_nilpotent:x}
    
% \end{lemma}
% \begin{proof}
%     It is similar to the proof of Lemma~\ref{lem:right_nilpotent:x}.
% \end{proof}
\begin{proposition}
    \label{pro:IcapFix}
    Let $A$ be a left nilpotent brace and $I$ be a non-zero left ideal of
    $A$. Then $I\cap\Fix(A)\ne\{0\}$. In particular, $\Fix(A)\ne\{0\}$. 
\end{proposition}

\begin{proof}
    Let $m=\max\{k:I\cap A^k\ne\{0\}\}$. Since
    $A*(I\cap A^m)\subseteq I\cap A^{m+1}=\{0\}$,
    it follows that there exists a non-zero $x\in I\cap A^m$ such that $a*x=0$
    for all $a\in A$. Thus $0\ne x\in\Fix(A)\cap I$.
    For the second claim, apply the first case with $I=A$.
\end{proof}

%Another important series of ideals was defined
%in~\cite{MR3814340} for braces. 
Let $A$ be a brace.
Let $A^{[1]}=A$ and for $n\geq 1$ let $A^{[n+1]}$ be the
additive subgroup of $A$ generated by elements from
$\{A^{[i]}*A^{[n+1-i]}:1\leq i\leq n\}$.
% , i.e.
% \[
%     A^{[n+1]}=\left\langle \bigcup_{i=1}^n A^{[i]}*A^{[n+1-i]}\right\rangle_+
% \]
% for all $n\geq2$. 
One easily proves by induction that $A^{[k]}\supseteq
A^{[k+1]}$ for all $k\geq1$. 

\begin{proposition}
    \label{pro:Smoktunowicz}
    Let $A$ be a brace. Each $A^{[n]}$ is a left ideal of $A$.
\end{proposition}

\begin{proof}
    Each $A^{[n]}$ is a subgroup of $(A,+)$. Since
    $A*A^{[n]}\subseteq A^{[n+1]}\subseteq A^{[n]}$, the claim follows from
    Proposition~\ref{pro:A*I}.
\end{proof}

There exists a brace $A$ such that $A^{[n]}=A^{[n+1]}\ne\{0\}$
for some positive integer $n$ and $A^{[n+2]}=\{0\}$.

\begin{example}
    \label{exa:funny}
    Let
    \begin{align*}
        &G=\langle r,s:r^8=s^2=1,\,srs=r^7\rangle\simeq\D_{16},\\
        &K=\langle a,b:8a=2b=0,\,a+b=b+a\rangle\simeq \Z/(8)\times \Z/(2).
    \end{align*}
    The group $G$ acts by automorphisms on $K$ via
    \[
        r\cdot a=a+b,\quad r\cdot b=4a+b,\quad
        s\cdot a=3a, \quad s\cdot b=4a+b.
    \]
    A direct calculation shows that the map $\pi\colon G\to K$  given by
    \begin{align*}
        1 &\mapsto 0, & r&\mapsto a, & r^2&\mapsto 2a+b, & r^3&\mapsto 7a+b,\\
        r^4 &\mapsto 4a, & r^5&\mapsto 5a, & r^6&\mapsto 6a+b, & r^7&\mapsto 3a+b,\\
        rs &\mapsto 6a, & r^2s&\mapsto 7a, & r^3s&\mapsto b, &r^4s&\mapsto 5a+b,\\
        r^5s &\mapsto 2a, & r^6s&\mapsto 3a, &r^7s&\mapsto 4a+b,&s&\mapsto a+b,
    \end{align*}
    is a bijective $1$-cocycle. Therefore there exists a brace $A$ with
    additive group isomorphic to $K$ and multiplicative group isomorphic to
    $G$. The addition of $A$ is that of $K$ and the multiplication is given by
    \[
        x\circ y=\pi(\pi^{-1}(x)\pi^{-1}(y)),\quad x,y\in K.
    \]
    Since
    \begin{align*}
        a*a&=-a+a\circ a-a=-a+(2a+b)-a=b,\\
        (5a+b)*a&=-(5a+b)+(5a+b)\circ a-a=-(5a+b)+b-a=2a,
    \end{align*}
    it follows that $A^{[2]}$ contains $\langle
    2a,b\rangle_+=\{0,2a,4a,6a,b,2a+b,4a+b,6a+b\}$, the additive subgroup of
    $(A,+)$ generated by $2a$ and $b$. Therefore $A^{[2]}=\langle 2a,b\rangle_+$
    since $A^{[2]}\ne A$. Routine calculations prove that
    \begin{align*}
        A^{[3]}=\{0,2a+b,4a,6a+b\}, && A^{[4]}=A^{[5]}=\{0,4a\}, && A^{[6]}=\{0\}.
    \end{align*}
\end{example}


\begin{definition}
\index{Brace!left nil}
% A skew left brace is said to be \emph{left nil} if for every
% $a\in A$ we have $a*(a*(a*\cdots))=0$ (for sufficiently large number
% of brackets in this equation).
For a brace $A$ let $\ell_1(a)=a$ and $\ell_{k+1}(a)=a*\ell_k(a)$ for
$n\geq1$.  The brace $A$ is said to be \emph{left nil} if there
exists a positive integer $n$ such that $\ell_n(a)=0$ for all $a\in A$. 
\end{definition}

\begin{definition}
\index{Brace!right nil}
For a brace $A$ let $\rho_1(a)=a$ and $\rho_{k+1}(a)=\rho_k(a)*a$ for
$n\geq1$.  The brace $A$ is said to be \emph{right nil} if there
exists a positive integer $n$ such that $\rho_n(a)=0$ for all $a\in A$. 
\end{definition}

%\begin{question}
%    \label{question:leftnil=>leftnilp}
%    Let $A$ be a (finite) left nil skew left brace.  Is $A$ left
%    nilpotent?
%\end{question}

% It is known that every finite left nil left brace is left
% nilpotent, see~\cite{MR3765444}.  Right nil skew left braces
% are defined in a similar fashion.

\begin{definition}
\index{Brace!strongly nilpotent}
A brace $A$ is said to be \emph{strongly nilpotent}
if there is a positive integer $n$ such that $A^{[n]}=0$.
\end{definition}

\begin{definition}
\index{Brace!strongly nil}
    A brace $A$ is said to be \emph{strongly nil} if for every
    $a\in A$ there is a positive integer $n=n(a)$ such that any $*$-product of
    $n$ copies of $a$ is zero.
\end{definition}


%K\"othe conjecture~\cite{MR1545158} is a famous open problem in ring
%theory. See~\cite{MR3439122,MR1879880} for a recent survey on this
%topic.  One of the formulations (due to Amitsur~\cite{MR0347873}) is
%the following: The sum of two nil left ideals of a ring is a nil
%left ideal.
%
%{\bf (Ferran: What can we do with the following question?)}
%
%\begin{question}
%    Is there an analog of the K\"othe conjecture for skew left braces?
%\end{question}

We first prove that if both groups of a finite brace $A$ are
nilpotent, then $A$ can be decomposed as a direct product of braces
of prime-power size. 
% A similar result was proved by Byott in the context of
% Hopf--Galois extensions, see~\cite[Theorem 1]{MR3030514}.

\begin{lemma}
\label{sum}
    Let $A$ be a brace such that the additive
group is a direct sum of ideals $I_1,I_2$, that is $A=I_1+I_2$ and
$I_1\cap I_2=\{0\}$. Then the map $f:A\rightarrow I_1\times I_2$
defined by $f(a_1+a_2)=(a_1,a_2)$, for all $a_1\in I_1$ and $a_2\in
I_2$, is an isomorphism of braces.
\end{lemma}

\begin{proof}
The operations of the brace $I_1\times I_2$
are defined component-wise. Clearly $f$ is an isomorphism of the
additive groups of $A$ and $I_1\times I_2$. Let $a_1\in I_1$ and
$a_2\in I_2$. Since $I_1$ and $I_2$ are ideals we have that
$$a_1+a_2-a_1-a_2, a_1*a_2, a_2*a_1\in I_1\cap I_2=\{ 0\},$$
thus $a_1+a_2=a_2+a_1$ and $a_1\circ a_2=a_1+a_2=a_2\circ a_1$.
Hence
\begin{eqnarray*} f((a_1+a_2)\circ (b_1+b_2))&=&f(a_1\circ
a_2\circ b_1\circ b_2)=
f(a_1\circ b_1\circ a_2\circ b_2)\\
&=&f(a_1\circ b_1 + a_2\circ b_2)=(a_1\circ b_1 , a_2\circ b_2)\\
&=&(a_1,a_2)\circ (b_1,b_2)=f(a_1+a_2)\circ f(b_1 +b_2),
\end{eqnarray*}
for all $a_1,b_1\in I_1$ and $a_2,b_2\in I_2$. 
\end{proof}

\begin{theorem}
    \label{thm:direct}
    Let $n$ be a positive integer. Let $A$ be a brace such that the additive
group is a direct sum of ideals $I_1,\dots ,I_n$, that is every
element $a\in A$ is uniquely written as $a=a_1+\dots +a_n$, with
$a_j\in I_j$ for all $j$. Then the map \[
f:A\rightarrow
I_1\times\dots\times I_n,
\quad
f(a_1+\dots +a_n)=(a_1,\dots
,a_n),
\]
for all $a_j\in I_j$, is an isomorphism of braces.
\end{theorem}

\begin{proof}
We shall prove the result by induction on $n$. For $n=1$, it is
clear. Suppose that $n>1$ and that the result is true for $n-1$. Let
$A_1=I_1+\dots +I_{n-1}$. Then $A_1$ is an ideal of $A$ and $A$ is
the direct sum of the ideals $A_1$ and $I_n$. By Lemma~\ref{sum},
the map $f_1: A\rightarrow A_1\times I_n$ defined by
$f(a+a_n)=(a,a_n)$, for all $a\in A_1$ and $a_n\in I_n$, is an
isomorphism of braces. By the induction hypothesis, the
map
\[
    f_2:A_1\rightarrow I_1\times \dots\times I_{n-1},
    \quad
    f_2(a_1+\dots +a_{n-1})=(a_1,\dots ,a_{n-1}),
\]
is an isomorphism of braces. Therefore $f=(f_2\times
\id)\circ f_1:A\rightarrow I_1\times\dots\times I_n$ is an
isomorphism of braces and $f(a_1+\dots +a_n)=(a_1,\dots
,a_n)$, for all $a_j\in I_j$. The result then follows.
\end{proof}

\begin{corollary}
    \label{cor:product}
    Let $A$ be a finite brace such that $(A,+)$ and $(A,\circ)$ are nilpotent.
Let $I_1,\dots ,I_n$ be the distinct Sylow subgroups of the additive
group of $A$. Then $I_1,\dots ,I_n$ are ideals of $A$ and the map
\[
f:A\rightarrow I_1\times\dots\times I_n,
\quad
f(a_1+\dots+a_n)=(a_1,\dots ,a_n),
\]
for all $a_j\in I_j$, is an isomorphism of
braces.
\end{corollary}

\begin{proof}
Since $(A,+)$ is nilpotent, for every prime divisor $p$ of the order
of $A$, there is a unique Sylow $p$-subgroup $I$ of $(A,+)$. Hence $I$
is a normal subgroup of $(A,+)$, and $\lambda_a(b)\in I$ for all
$a\in A$ and $b\in B$. Thus $I$ is a left ideal of $A$ and thus it
is a Sylow $p$-subgroup of $(A,\circ)$. Since $(A,\circ)$ is
nilpotent, $I$ is the unique Sylow $p$-subgroup of $(A,\circ)$ and,
thus, it is normal in $(A,\circ)$. Therefore $I$ is an ideal of $A$.
Hence $I_1,\dots ,I_n$ are ideals of $A$ and clearly the additive
group of $A$ is the direct sum of $I_1,\dots ,I_n$. The result
follows by Theorem~\ref{thm:direct}.
\end{proof}


Let $A$ be a brace.  Let $G$ be the multiplicative group
of $A$ and $K$ be the additive group of $A$. The group $G$ acts on
$K$ by automorphisms. Let $G$ be the semidirect product
$\Gamma=K\rtimes G$. The operation of $G$ is 
\[
    (x,g)(y,h)=(x+\lambda_g(y),g\circ h).
\]
Identifying each $g\in G$ with $(0,g)\in\Gamma$ and each $x\in K$
with $(x,0)\in\Gamma$, 
\begin{align*}
[g,x]&= gxg^{-1}x^{-1}=(0,g)(x,0)(0,g')(-x,0)\\
&=(\lambda_g(x),g)(-\lambda^{-1}_g(x),g')
=(\lambda_g(x)-x,0)=\lambda_g(x)-x=g*x.
\end{align*}

Let $K_0=K=A^1$ and $K_{n+1}=[G,K_n]=A^{n+2}$ for $n\geq0$. 
% \begin{equation}
% \label{eq:repeated}
% \begin{aligned}
%     & K_0=X=A^1,\\
%     & K_{n+1}=[G,K_n]=A^{n+2}\quad\text{for $n\geq0$.}
% \end{aligned}
%  \end{equation}
The elements of the left series of $A$ are iterated commutators of
the group $\Gamma$.  
% Our first
% application is the following useful result, which was proved by Rump for
% classical braces using different methods (see the corollary after Proposition 2
% of~\cite{MR2278047}).

\begin{proposition}
    \label{pro:pgroups}
    Let $p$ be a prime and $A$ be brace of size $p^m$. Then $A$ is
    left nilpotent.
\end{proposition}

\begin{proof}
    Let $G$ be the multiplicative group of $A$ and $K$ be the additive group of
    $A$. Since the semidirect product $\Gamma=K\rtimes G$ is a $p$-group, it is
    nilpotent. Thus there exists $k$ such that the $k$-repeated commutator
    $[\Gamma,\Gamma,\dots,\Gamma]$, where $\Gamma$ appears $k$-times, is trivial. Since
    $A^k=[G,\dots,G,K]\subseteq [\Gamma,\dots,\Gamma]$, 
    it follows that $A$ is left nilpotent.
\end{proof}

\framebox{HERE}
The following results follow immediately from theorems of P.  Hall:

\begin{lemma}
    Let $A$ be finite brace such that $A^3=0$. Then the additive group of
    $A^2$ is abelian. In fact, $A^2$ is a trivial brace.
\end{lemma}

\begin{proof}
The first part follows by \cite[Theorem~6]{Hall}. Note that
$(A^2)^2\subseteq A^3=0$, hence $a\circ b=a+b$ for all $a,b\in A^2$, and
the result follows.
\end{proof}


\begin{theorem}
    \label{thm:A2}
    Let $A$ be left nilpotent skew left brace. Then the following statements
    hold:
    \begin{enumerate}
        \item The additive group of $A^2$ is locally nilpotent.
        \item The multiplicative group of $A/\ker\lambda$ is locally nilpotent.
    \end{enumerate}
\end{theorem}

\begin{proof}
    Since each element of the left series of $A$ is a repeated commutator, the
    first claim follows from Hall's theorem \cite[Theorem~4]{Hall}.
    To prove the second claim, we use the notation above
    Proposition~\ref{pro:pgroups}. Let $K=[G,X]G\subseteq \Gamma$ and
    $H=[G,X]X$. Let $C$ be the centralizer of $H$ in $K$. Then by
    \cite[Theorem~4]{Hall}, $K/C$ is locally nilpotent. Note
    that, since $X$ is normal in $\Gamma$, $H=X$. Hence $G\cap C$ is the
    centralizer of $X$ in $G$, that is
    \begin{eqnarray*}G\cap C&=&\{ g\in G\mid gxg^{-1}=x, \text{ for all } x\in X\}\\
    &=&\{ g\in A\mid \lambda_g(x)=x, \text{ for all } x\in A\}=\ker\lambda.
    \end{eqnarray*}
     Thus $(GC)/C\cong G/(G\cap
     C)=G/\ker\lambda$ is locally nilpotent.
\end{proof}


% We shall introduce some notation. Let $A$ be a skew left brace.
% We denote by $\gamma^+(a,b)=a+b-a-b$ the commutator of $a,b$ in
% $(A,+)$, for all $a,b\in A$. Let $B,C$ be two subgroups of $(A,+)$.
% We define $\gamma^+(B,C)=\langle \gamma^+(b,c)\mid b\in B,\; c\in
% C\rangle_+$, the additive subgroup generated by the elements
% $\gamma^+(b,c)$, for $b\in B$ and $c\in C$. We also write
% $*(a,b)=a*b$ for all $a,b\in A$, and $*(B,C)=B*C=\langle
% *(b,c)\mid b\in B,\; c\in C\rangle_+$.
% Let $M$ be the free monoid with basis $\{ \gamma^+, *\}$. Then the
% elements of $M$ are words in the alphabet $\{ \gamma^+, *\}$, that
% is, if $m\in M$ then $$m=\epsilon_1\epsilon_2\cdots \epsilon_s,$$
% for some non-negative integer $s$ and $\epsilon_i\in \{ \gamma^+,
% *\}$. In this case, we say that $m$ has degree $s$ and we write
% $\deg(m)=s$. Furthermore, if $s>0$, we define
% $$m(a_1a_2\dots a_{s+1})=\epsilon_1(a_1,\epsilon_2(a_2,\dots(\epsilon_s(a_s,a_{s+1}))\dots )),$$
% for all $a_1,\dots ,a_{s+1}\in A$, and if $A_1,\dots, A_{s+1}$ are
% subgroups of $(A,+)$, we define
%     $$m(A_1A_2\dots A_{s+1})=\epsilon_1(A_1,\epsilon_2(A_2,\dots(\epsilon_s(A_s,A_{s+1}))\dots )).$$
% Finally we denote by $A_1(t)$ the word $A_1A_1\dots A_1$ of length
% $t$ in the letter $A_1$. We order $M$ with the degree-lexicographic
% order, extending $*<\gamma^+$. Note that if $m_2>m_1$ are elements
% of $M$, then
% \begin{eqnarray*}\lefteqn{m_2(a_1\dots
% a_{\deg(m_2)+1})+m_1(b_1\dots b_{\deg(m_1)+1})}\\
% &=&m_1(b_1\dots b_{\deg(m_1)+1})+m_2(a_1\dots
% a_{\deg(m_2)+1})\\
% &&-\gamma^+(-m_1(b_1\dots b_{\deg(m_1)+1}),-m_2(a_1\dots
% a_{\deg(m_2)+1})).
% \end{eqnarray*}
% In particular, the elements of the additive subgroup generated by
% $$\{m(A(\deg(m)+1))\mid m\in M, \text{ with }\deg(m)\geq t\}$$
% are of the form $a_1+a_2+\dots +a_s$, where $a_i\in
% m_i(A(\deg(m_i)+1))$, $\deg(m_1)\geq t$ and $m_1<\dots <m_s$. We
% denote this additive subgroup by
% $$\sum_{\{m\in M\mid \deg(m)\geq t\}}m(A(\deg(m)+1)).$$

% \begin{lemma}
% \label{lem:series} Let $A$ be a skew left brace. Let $G_1=\ker
% \lambda$, and for $i>1$, let $G_i=[A,G_{i-1}]=\langle a\circ b\circ
% a'\circ b'\mid a\in A,\; b\in G_{i-1}\rangle$. Let $M$ be the free
% monoid with basis $\{ \gamma^+, *\}$. Then
% $$G_n\subseteq \sum_{\{m\in M\mid \deg(m)\geq
% n-1\}}m(A(\deg(m)+1)).$$
% \end{lemma}

% \begin{proof}
% Let $a\in \ker\lambda$ and $g\in A$. Note that
% \begin{equation}
% \label{eq:ker}
% \begin{aligned}
% g\circ a\circ g'\circ a'&=g\circ (a+ g')+ a'\\
% &=g\circ a-g-a=g+\lambda_g(a)-g-a.
% \end{aligned}
% \end{equation}
% We shall prove the result by induction on $n$. For $n=1$,
% $$G_1=\ker\lambda\subseteq A=\sum_{\{m\in M\mid \deg(m)\geq 0\}}m(A(\deg(m)+1)).$$
% Let $n>1$ and suppose that
% $$G_{n-1}\subseteq \sum_{\{m\in M\mid \deg(m)\geq n-2\}}m(A(\deg(m)+1)).$$
% Let $g\in A$ and $a\in G_{n-1}$. Then since $G_{n-1}$ is a subgroup
% of $\ker\lambda$, by (\ref{eq:ker}) we have
% $$g\circ a\circ g'\circ a'=g+\lambda_g(a)-g-a.
% $$
% Let $a_m\in m(A(\deg(m)+1))$ be such that
% $$a=a_{m_1}+a_{m_2}+\dots +a_{m_{s}},$$
% with $\deg(m_1)\geq n-2$ and $m_1<\dots <m_s$.  We have
% \begin{eqnarray*}
% g\circ a\circ g'\circ a'&=&g+\lambda_g(a)-g-a\\
% &=&g+\lambda_g(a_{m_1}+a_{m_2}+\dots +a_{m_s})-g-(a_{m_1}+a_{m_2}+\dots +a_{m_s})\\
% &=&g+\lambda_g(a_{m_1})+\dots +\lambda_g(a_{m_s})-g-(a_{m_1}+a_{m_2}+\dots +a_{m_s})\\
% &=&g+(g*a_{m_1}+a_{m_1})+\dots +(g*a_{m_s}+a_{m_s})-g\\
% &&-(a_{m_1}+a_{m_2}+\dots +a_{m_s}).
% \end{eqnarray*}
% We shall prove that
% \begin{eqnarray*}
% \lefteqn{g+(g*a_{m_1}+a_{m_1})+\dots +(g*a_{m_s}+a_{m_s})-g}\\
% &&-(a_{m_1}+a_{m_2}+\dots +a_{m_s})\in\sum_{\{m\in M\mid \deg(m)\geq
% n-1\}}m(A(\deg(m)+1))
% \end{eqnarray*}
% by induction on $s$. For $s=1$ we have
% \begin{eqnarray*}
% g+g*a_{m_1}+a_{m_1}-g-a_{m_1}&=&\gamma^+(g,g*a_{m_1})+g*a_{m_1}+g+a_{m_1}-g-a_{m_1}\\
% &=&\gamma^+(g,g*a_{m_1})+g*a_{m_1}+\gamma^+(g,a_{m_1}).
% \end{eqnarray*}
% Since $\gamma^+(g,g*a_{m_1})\in \gamma^+*m_1(A(\deg(m_1)+3))$,
% $g*a_{m_1}\in *m_1(A(\deg(m_1)+2))$ and $\gamma^+(g,a_{m_1})\in
% \gamma^+m_1(A(\deg(m_1)+2))$, we have that
% $$g+g*a_{m_1}+a_{m_1}-g-a_{m_1}\in\sum_{\{m\in M\mid
% \deg(m)\geq n-1\}}m(A(\deg(m)+1)).$$

% Suppose that $s>1$ and $g+(g*a_{m_1}+a_{m_1})+\dots
% +(g*a_{m_{s-1}}+a_{m_{s-1}})-g-(a_{m_1}+a_{m_2}+\dots
% +a_{m_{s-1}})\in \sum_{\{m\in M\mid \deg(m)\geq
% n-1\}}m(A(\deg(m)+1)).$

% We have that
% \begin{eqnarray*}
% \lefteqn{g+(g*a_{m_1}+a_{m_1})+\dots +(g*a_{m_s}+a_{m_s})-g}\\
% &&-(a_{m_1}+a_{m_2}+\dots +a_{m_s})\\
% &=&g+(g*a_{m_1}+a_{m_1})+\dots +(g*a_{m_{s-1}}+a_{m_{s-1}})\\
% &&+g*a_{m_{s}}+a_{m_{s}}-g-a_{m_s}+g-g-(a_{m_1}+a_{m_2}+\dots +a_{m_{s-1}})\\
% &=&g+(g*a_{m_1}+a_{m_1})+\dots +(g*a_{m_{s-1}}+a_{m_{s-1}})\\
% &&+g*a_{m_{s}}-\gamma^+(-g,a_{m_{s}})-g-(a_{m_1}+a_{m_2}+\dots +a_{m_{s-1}})\\
% &=&g+(g*a_{m_1}+a_{m_1})+\dots +(g*a_{m_{s-1}}+a_{m_{s-1}})-g\\
% &&-(a_{m_1}+a_{m_2}+\dots +a_{m_{s-1}})\\
% &&+g*a_{m_{s}}-\gamma^+(-g,a_{m_{s}})\\
% &&-\gamma^+(a_{m_1}+a_{m_2}+\dots
% +a_{m_{s-1}}+g,\gamma^+(-g,a_{m_{s}})-g*a_{m_{s}})\\
% &&\in \sum_{\{m\in M\mid \deg(m)\geq n-1\}}m(A(\deg(m)+1)).
% \end{eqnarray*}
% Hence
% $$g\circ a\circ g'\circ a'\in \sum_{\{m\in M\mid \deg(m)\geq
% n-1\}}m(A(\deg(m)+1)).$$

% Note that $\sum_{\{m\in M\mid \deg(m)\geq n-1\}}m(A(\deg(m)+1))$ is
% a left ideal of $A$. Therefore
% $$G_{n}\subseteq \sum_{\{m\in M\mid
% \deg(m)\geq n-1\}}m(A(\deg(m)+1)),$$ and the result follows by
% induction.
% \end{proof}

% The following result generalizes \cite[Theorem~1]{MR3814340}.

% \begin{theorem}
%     \label{thm:left_nilpotent=nilpotent}
%     Let $A$ be a finite skew left brace with nilpotent additive group. Then $A$ is
%     left nilpotent if and only if the multiplicative group of $A$ is nilpotent.
% \end{theorem}

% \begin{proof}
%     Let us first assume that $(A,\circ)$ and $(A,+)$ are nilpotent.
%     By Corollary~\ref{cor:product}, the skew left brace $A$ is the direct product of skew left braces with
%     prime-power orders. By Proposition~\ref{pro:pgroups} all such skew left braces are
%     left nilpotent, hence $A$ is left nilpotent by Lemma~\ref{lem:left_nilpotent:x}.


%     Suppose now that $(A,+)$ is nilpotent and $A$ is left nilpotent.
%     There exist positive integers $n_1,n_2$ such that $A^{n_1}=0$ and $\gamma_{n_2}^+(A)=0$, where $\gamma_{j+1}^+(A)=(\gamma^+)^j(A(j+1))$,
%     using the notation above Lemma~\ref{lem:series}. By
%     Theorem~\ref{thm:A2}, we know that the multiplicative group of
%     $A/\ker\lambda$ is nilpotent. Let $\gamma_1(A)=A$ and for $i>1$
%     let
%     \[
%     \gamma_i(A)=[A,\gamma_{i-1}(A)]=\langle a\circ b\circ
%     a'\circ b'\mid a\in A,\; b\in \gamma_{i-1}(A)\rangle.
%     \]
%     Thus there exists a positive integer $k$ such that
%     $\gamma_k(A)\subseteq\ker\lambda$. Using the notation in the
%     proof of Lemma~\ref{lem:series}, we have that $\gamma_{k+j}(A)\subseteq
%     G_{j+1}$ for every nonnegative integer $j$. Hence, by
%     Lemma~\ref{lem:series}
%     $$\gamma_{k+n_1n_2}(A)\subseteq G_{n_1n_2+1}\subseteq \sum_{\{m\in M\mid \deg(m)\geq
%     n_1n_2\}}m(A(\deg(m)+1)).$$
%     Let $m\in M$ be an element with $\deg(m)\geq n_1n_2$. Note that
%     if $\gamma^+$ appears $t$ times in $m$, then $m(A(\deg(m)+1))\subseteq
%     (\gamma^+)^t(A(t+1))$. In particular, if $t\geq n_2$, then
%     $m(A(\deg(m)+1))=0$.
%     Suppose that $\gamma^+$ appears at most $n_2-1$ times in $m$. In
%     this case, there exist $m_1,m_2\in M$ such that
%     $m=m_1(*)^{n_1}m_2$. In this case,
%     \begin{align*}
%     m(A(\deg(m)+1))&=m_1(*)^{n_1}(A(\deg(m_1)+n_1)m_2(A(\deg(m_2)+1)))\\
%     &\subseteq  m_1(*)^{n_1}(A(\deg(m_1)+n_1+1))\\
%     &=m_1(A(\deg(m_1)A^{n_1}))=0.
%     \end{align*}
%     Hence $\gamma_{k+n_1n_2}(A)=0$.
%     Therefore the multiplicative group of $A$ is nilpotent, and the
%     result follows.
% \end{proof}

The assumption on the nilpotency of the additive group in
Theorem~\ref{thm:left_nilpotent=nilpotent} is needed (see
Example~\ref{ex:trivial}).

\begin{corollary}
    Let $A$ be a finite brace of size $p^n$ for some prime number $p$
    and some positive integer $n$.  Then either $A$ is the trivial brace of
    order $p$ or it is not simple.
\end{corollary}

\begin{proof}
 By Theorem~\ref{thm:left_nilpotent=nilpotent}, $A$ is left nilpotent. In
 particular, if $A\neq 0$, then $A^2\neq A$. Since $A^2$ is an ideal either $A$
 is not simple or $A^2=0$. Assume that $A^2=0$. In this case, $a\circ b=a+b$
 for all $a,b\in A$. Therefore $[A,A]$ is a proper an ideal of $A$. Hence,
 either $A$ is not simple or $[A,A]=0$. Assume that $A^2=[A,A]=0$. In this case
 $A$ is a trivial brace and the result follows.
\end{proof}


\begin{lemma}
    \label{lem:sylow_leftideals}
    Let $A$ be a finite skew left brace with nilpotent additive group. Let $p$
    and $q$ distinct prime numbers and let $P$ and $Q$ be Sylow subgroups of
    $(A,+)$ of sizes $p^n$ and $q^m$, respectively. Then $P$, $Q$ and $P+Q$ are
    left ideals of $A$.
\end{lemma}

\begin{proof}
    Let us first prove that $P$ is a left ideal. Since $(A,+)$ is nilpotent,
    $P$ is a normal subgroup of $(A,+)$. Let $a\in A$ and $x\in P$. Then
    $\lambda_a(x)\in P$ since $\lambda_a$ is a group homomorphism. Similarly
    one proves that $Q$ is a left ideal. From this it follows that $P+Q$ is a
    left ideal.
\end{proof}

The following is based on~\cite[Theorem 5(1)]{MR3765444}.
However, the proof is completely different.

\begin{theorem}
\label{thm:P*Q=0} Let $A$ be a finite skew left brace with nilpotent
additive group. Let $p$ and $q$ distinct prime numbers and let $A_p$
and $A_q$ be Sylow subgroups of $(A,+)$ of sizes $p^n$ and $q^m$,
respectively. If $p$ does not divide $q^t-1$ for all
$t\in\{1,\dots,m\}$, then $A_p*A_q=0$. In particular,
$\lambda_x(y)=y$ for all $x\in A_p$ and $y\in A_q$.
\end{theorem}

\begin{proof}
By Lemma~\ref{lem:sylow_leftideals} $A_p$, $A_q$ and $A_p+A_q$
are left ideals of $A$. In particular,  $A_p+A_q$ is a skew subbrace
of $A$ and $A_p$ and $A_q$ are Sylow subgroups of
$(A_p+A_q,\circ)$. By Sylow's theorem, the number $n_p$ of Sylow
$p$-subgroups of the multiplicative group of $A_p+A_q$ is
\[
n_p=[A_p+A_q:N]\equiv 1\bmod p,
\]
where $N=\{g\in A_p+A_q:g\circ A_p\circ g'=A_p\}$ is the normalizer
of $A_p$ in the multiplicative group of $A_p+A_q$. Since
$[A_p+A_q:N]=q^s$ for some $s\in\{0,\dots,m\}$ and $p$ does not
divide $q^t-1$ for all $t\in\{1,\dots,n\}$, it follows that $s=0$
and hence $A_p$ is a normal subgroup of the multiplicative group of
$A_p+A_q$. Thus $A_p$ is an ideal of the skew left brace
$A_p+A_q$. Since $A_p$ is an ideal of $A_p+A_q$ and $A_q$ is a left
ideal, we have that $A_p*A_q\subseteq A_p\cap A_q=0$, and the result
follows.
\end{proof}


\begin{corollary}
Let $A$ be a skew left brace of size $p_1^{\alpha_1}\cdots
p_k^{\alpha_k}$, where $p_1<p_2<\cdots<p_k$ are prime numbers and
$\alpha_1,\dots,\alpha_k$ are positive integers. Assume that the
additive group of $A$ is nilpotent. Let $A_j$ be the Sylow $p_j$-
subgroups of the additive group of $A$. Assume that, for some $j\leq k$,
$p_j$ does not divide $p_i^{t_i}-1$ for all $t_i\in\{
1,\dots \alpha_i\}$ for all $i\neq j$. Then $\Soc(A_j)\subseteq
\Soc(A)$.
\end{corollary}

\begin{proof}
Write $A=A_1+\cdots+A_k$. Let $a\in \Soc(A_j)$ and $b\in A$. Hence
there exist elements $b_k\in A_k$ such that $b=b_1+\dots +b_k$. By
Theorem~\ref{thm:P*Q=0}, $\lambda_a(b_i)=b_i$, for all $i\neq j$.
Then $\lambda_a(b)=\lambda_a(b_1)+\dots +\lambda_a(b_k)=b_1+\dots
+b_k=b$ and hence $a\in Soc(A)$. Thus the result follows.
\end{proof}




Let $A$ be a skew left brace. For subsets $X$ and $Y$ of $A$ 
we define inductively $L_0(X,Y)=Y$ and $L_{n+1}(X,Y)=X*L_n(X,Y)$ for $n\geq0$.

\begin{definition}
    Let $p$ be a prime number. A finite skew left brace $A$ of nilpotent type is said to be \emph{left $p$-nilpotent} if there exists $n\geq1$ such that $L_n(A,A_p)=0$, where $A_p$ is the Sylow $p$-subgroup of $(A,+)$.
\end{definition}

\begin{lemma}
\label{lem:factorization}
    Let $A$ be a skew left brace such that its additive group is the direct product of the left 
    ideals $B$ and $C$. Then $A*(B+C)=A*B+A*C$. Moreover, if $A=\oplus_{i=1}^{n} B_i$ where the $B_i$ are left ideals, then 
    \[
    A*\sum_{i=1}^{n} B_i=\sum_{i=1}^{n} A*B_i.
    \]
\end{lemma}

\begin{proof}
    Let $a\in A$, $b\in B$ and $c\in C$. 
    Then 
    \[
    a*(b+c)=a*b+b+a*c-b=a*b+a*c
    \]
    holds for all $a\in A$, $b\in B$ and $c\in C$.
    The second part follows by induction.
\end{proof}

\begin{proposition}
    \label{pro:left_p}
    Let $A$ be a finite skew left brace of nilpotent type. Then $A$ 
    is left nilpotent if and only if $A$ is left $p$-nilpotent for all $p\in\pi(A)$.
\end{proposition}

\begin{proof}
    For each $p\in\pi(A)$ 
    there exists $n(p)\in\N$ such that $L_{n(p)}(A,A_p)=\{0\}$. Let
    $n=\max\{n(p):p\in\pi(A)\}$. Then $L_n(A,A_p)=\{0\}$ for all $p\in\pi(A)$. Since
    $A$ is of nilpotent type, the additive group $(A,+)$ is isomorphic to the direct sum 
    of the $A_p$ for $p\in\pi(A)$. 
    Then Lemma~\ref{lem:factorization} implies that 
    \[
    L_n(A,A)=\sum_{p\in\pi(A)}L_n(A,A_p)=\{0\}.
    \]
    The other implication is trivial. 
\end{proof}

We now recall some notation about commutators. Given a brace $A$, the group $(A,\circ)$ acts on $(A,+)$ by automorphisms. 
If in the semidirect product $(A,+)\rtimes(A,\circ)$ we identify $a$ with $(0,a)$ and $b$ with $(b,0)$, then 
\begin{align*}
 [a,b] &= (0,a)(b,0)(0,a)^{-1}(b,0)^{-1} = (0,a)(b,0)(0,a')(-b,0) \\
 &=(\lambda_a(b),a)(-\lambda_{a'}(b),a') = (\lambda_a(b)-b,0) \\
 &= (a*b,0)
\end{align*}
Under this identification, we write $[X,Y]=X*Y$ for any pair of subsets $X,Y\subseteq A$. Then the iterated commutator  
satisfies 
\[
[X,\dots, X,Y]=[X,[X,\dots,[X,Y]\dots]]=L_n(X,Y),
\]
where the subset $X$ appears $n$ times.

\begin{theorem}
\label{thm:left_p}
    Let $A$ be a finite brace of nilpotent type. The following statements
    are equivalent:
    \begin{enumerate}
        \item $A$ is left $p$-nilpotent.
        \item $A_{p'}*A_p=\{0\}$.
        \item The group $(A,\circ)$ is $p$-nilpotent.
    \end{enumerate}
\end{theorem}

\begin{proof}
    We first prove that (1) implies (2). Since $A$ is left $p$-nilpotent,
    there exists $n\in\N$ such that 
    $L_n(A_{p'},A_p)\subseteq L_n(A,A_p)=\{0\}$.
    Since $(A_{p'},\circ)$ acts by automorphisms on $(A_{p},+)$ and this is a coprime action, it follows from~\cite[Lemma 4.29]{MR2426855} that 
    \[
    L_1(A_{p'},A_p)=A_{p'}*A_p=A_{p'}*(A_{p'}*A_p)=L_2(A_{p'},A_p).
    \]
    By induction one then proves that $A_{p'}*A_p=L_n(A_{p'},A_p)=\{0\}$.
    
    We now prove that (2) implies (3). It is enough to prove that $(A_{p'},\circ)$ 
    is a normal subgroup of $(A,\circ)$. By using Lemma~\ref{lem:factorization},  
    \[
    A_{p'}*A=A_{p'}*(A_p+A_{p'})=(A_{p'}*A_p)+(A_{p'}*A_{p'})\subseteq A_{p'}.
    \]
    since $A_p'$ is a left ideal of $A$ and $A_{p'}*A_p=\{0\}$. Then 
    $A_{p'}$ is an ideal of $A$ by Lemma~\ref{lem:Hall} and~\cite[Lemma 1.9]{csv}. In particular, $(A_{p'},\circ)$ is a normal subgroup of $(A,\circ)$. 
    
    Finally we prove that (3) implies (1). We need to prove that $L_n(A_p,A_p)=0$ for some $n$. Since $(A,\circ)$ is $p$-nilpotent, 
    there exists a normal $p$-complement that is a characteristic subgroup of $(A,\circ)$. This group is $A_{p'}$ and hence $A_{p'}$ is an ideal of $A$. Then
    $A_{p'}*A_p\subseteq A_{p'}\cap A_p=0$. We now prove that
    $L_n(A,A_p)=L_n(A_p,A_p)$ for all $n\geq0$. The case where $n=0$ is trivial, so assume that the result holds for some $n\geq0$. By the inductive hypothesis,
    \[
    L_{n+1}(A,A_p)=A*L_n(A,A_p)=A*L_n(A_p,A_p).
    \]
    Thus it is enough to prove that $A*L_n(A_p,A_p)\subseteq A_p*L_n(A_p,A_p)$. Let $a\in A$ and $b\in L_n(A_p,A_p)$. Write $a=x\circ y$ for $x\in A_p$ and $y\in A_{p'}$. Then
    \[
    a*b=(x\circ y)*b=x*(y*b)+y*b+x*b=x*b\in A_p*L_n(A_p,A_p)
    \]
    since $A_{p'}*A_p=0$. The skew left brace $A_p$ is left nilpotent
    by~\cite[Proposition 4.4]{csv}, so there exists $n\in\N$ such that $L_n(A_p,A_p)=0$.
\end{proof}

% The following theorem was proved by Smoktunowicz for left braces, see~\cite[Theorem 1.1]{MR3814340}. 
% For skew left braces a proof appears in~\cite[Theorem 4.8]{csv}.

\section*{Exercises}

\begin{prob}
    \label{prob:LN_direct}
    Let $A_1,\dots,A_k$ be left nilpotent braces. Prove that 
    $A_1\times\cdots\times A_k$ is left nilpotent.
\end{prob}

\begin{prob}
    \label{prob:LN_surj}
     Let $f\colon A\to B$ be a surjective homomorphism of braces. Prove that 
     if $A$ is left nilpotent, then $B$ is left nilpotent.
\end{prob}

\begin{prob}
    \label{prob:LN_sub}
    Let $A$ be a left nilpotent brace and $B\subseteq A$ be a sub brace. 
    Prove that $B$ is left nilpotent.
\end{prob}

\begin{prob}
    \label{prob:nil=>leftnilpotent}
    Prove that nil braces \framebox{of abelian/nilpotent type?} left nilpotent. 
\end{prob}

\section*{Open problems}

\begin{problem}
    \label{question:rightnil=>rightnilp}
    Let $A$ be a finite right nil brace.  Is $A$ right
    nilpotent?
\end{problem}

\begin{problem}
    \label{question:stronglynil=>stronglynilp}
    Let $A$ be a finite strongly nil brace.
    Is $A$ strongly nilpotent?
\end{problem}

\section*{Notes}

The left series of a brace was defined by Rump~\cite{MR2278047} in the context of 
braces of abelian type. Precisely in that paper he proved 
Proposition~\ref{pro:pgroups} by a different method 
in the case of braces of abelian type. 

Strongly nilpotent braces of abelian type were defined by Smoktunowicz in~\cite{MR3814340}.
These definitions extend to skew left braces, see~\cite{MR3957824}.  

Theorem~\ref{thm:direct} was proved by Byott in the context of Hopf--Galois extensions~\cite{MR3030514}. 

Theorem~\ref{thm:equivalence} was proved by Smoktunowicz in \cite{MR3814340} for braces of abelian type and it was extended 
to nilpotent type in~\cite{MR3957824}. 

Theorem~\ref{thm:Smoktuwonicz} was proved By Smoktunowicz in \cite[Theorem 1.1]{MR3814340} for braces of abelian type. 
The generalization to braces of nilpotent type appeared in~\cite[Theorem 4.8]{MR3957824}. The proof 
presented in this chapter appeared in~\cite{MR4062375} and it is 
heavily based on the ideas of Ballester--Bolinches, Meng and Romero~\cite{MR3935814}.

Theorem~\ref{thm:left_p} was proved by Ballester--Bolinches, Meng and Romero for braces of abelian type.

Exercise~\ref{prob:nil=>leftnilpotent} was proved in the case of braces of abelian type by Smoktunowicz~\cite{MR3765444}.