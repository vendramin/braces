\chapter{Nilpotent groups}

\section*{A}

If $G$ is a group and $x,y,z\in G$, the conjugation (as a left action) will be denoted
by $\prescript{x}{}y=xyx^{-1}$. The commutator between $x$ and $y$ is then 
\[
[x,y]=xyx^{-1}y^{-1}=(\prescript{x}{}y)y^{-1}.
\]
We also write 
$[x,y,z]=[x,[y,z]]$. 
If $X$, $Y$ and $Z$ are subgroups of $G$, we write 
\[
[X,Y]=\langle [x,y]:x\in X,\,y\in Y\rangle
\]
and $[X,Y,Z]=\left[ X,[Y,Z] \right]$. Since $[X,Y]=[Y,X]$, it follows that  
$[X,Y,Z]=[X,Z,Y]$. 

\begin{exercise}[Hall--Witt]
	\label{xca:HallWitt}
	\index{Hall--Witt!identity}
	\index{Hall, P.}
	\index{Witt, E.}
	Let $G$ be a group and $x,y,z\in G$. Then 
	\begin{equation}
		\label{eq:HallWitt}
	\left(\prescript{y}{}[x,y^{-1},z]\right)\left(\prescript{z}{}[y,z^{-1},x]\right)\left(\prescript{x}{}[z,x^{-1},y]\right)=1.
	\end{equation}
\end{exercise}

\index{Jacobi, G.}
\index{Jacobi!identity}
Note that if $G$ is such that $[G,G]$ is central, then Hall--Witt's identity 
turns out to be Jacobi's identity. 

%\begin{lemma}[three subgroups lemma]
%	\label{lemma:3subgrupos}
%	\index{Lemma!three subgroups}
%	Let $X$, $Y$ and $Z$ be subgroups of $G$ such that $[X,Y,Z]=[Y,Z,X]=\{1\}$.
%	Then $[Z,X,Y]=\{1\}$.
%\end{lemma}
%
%\begin{proof}
%	Since $[x,y]\in C_G(z)$ implies that 
%	$[X,Y]\subseteq C_G(Z)$, it
%	is enough to prove that $[z,x^{-1},y]=1$ for all $x\in X$, $y\in Y$ and $z\in Z$, 
%	Since $[y^{-1},z]\in [Y,Z]$, it follows that 
%	$[x,y^{-1},z]\in [X,Y,Z]=\{1\}$. Thus $\prescript{y}{}[x,y^{-1},z]=1$.
%	Similarly, $\prescript{z}{}[y,z^{-1},x]=1$. Hence the 
%	Hall--Witt identity yields 
%	$[z,x^{-1},y]=1$.
%\end{proof}

\begin{lemma}[three subgroups lemma]
	\label{lemma:3subgrupos_general}
	Let $N$ be a normal subgroup of $G$ and let $X$, $Y$ and $Z$
	be subgroups of $G$. If $[X,Y,Z]\subseteq N$ and $[Y,Z,X]\subseteq N$, then 
	$[Z,X,Y]\subseteq N$.
\end{lemma}

\begin{proof}
	We first prove the lemma in the case where $N=\{1\}$. 	Since $[x,y]\in C_G(z)$ implies that 
	$[X,Y]\subseteq C_G(Z)$, it
	is enough to prove that $[z,x^{-1},y]=1$ for all $x\in X$, $y\in Y$ and $z\in Z$, 
	Since $[y^{-1},z]\in [Y,Z]$, it follows that 
	$[x,y^{-1},z]\in [X,Y,Z]=\{1\}$. Thus $\prescript{y}{}[x,y^{-1},z]=1$.
	Similarly, $\prescript{z}{}[y,z^{-1},x]=1$. Hence the 
	Hall--Witt identity yields 
	$[z,x^{-1},y]=1$.

	We now demonstrate the general case. Let $N$ be a normal subgroup of $G$ 
	and $\pi\colon G\to G/N$ be the canonical map. Since $[X,Y,Z]\subseteq N$, 
	\begin{align*}
		\{1\}&=\pi([X,Y,Z])=\pi([ X,[Y,Z]])\\
		&=[\pi(X),\pi([Y,Z])]=[ \pi(X),[\pi(Y),\pi(Z)]]=[\pi(X),\pi(Y),\pi(Z)]. 
	\end{align*}
	Similarly one proves that $[\pi(Y),\pi(Z),\pi(X)]=\{1\}$. By the previous paragraph,  
	$[\pi(Z),\pi(X),\pi(Y)]=\{1\}$, so $[Z,X,Y]\subseteq N$.
\end{proof}

\index{Lower central series}
The \textbf{lower central series} of a group $G$ is 
the sequence $\gamma_k(G)$, $k\in\N$, 
defined recursively as 
\[
		\gamma_1(G)=G,\quad
		\gamma_{i+1}(G)=[G,\gamma_i(G)]\quad i\geq 1.
\]

\index{Group!nilpotent}
\index{Nilpotency index}
\index{Nilpotency class}
A group $G$ is said to be \textbf{nilpotent} if there exists positive integer $c$ such that 
$\gamma_{c+1}(G)=\{1\}$. The smallest $c$ such that $\gamma_{c+1}(G)=\{1\}$ is
the \textbf{nilpotency index} (or \textbf{nilpotency class}) of $G$. 

% \begin{exercise}
% \label{xca:nilpotente=>resoluble}
% 	Demuestre que todo grupo nilpotente es resoluble.
% \end{exercise}

\begin{example}
	A group is nilpotent of class one if and only if it is abelian.  
\end{example}

% \begin{example}
% 	$\Sym_3$ es resoluble pues $\Sym_3\supseteq \Alt_3\supseteq\{1\}$ es una serie
% 	de composición con factores abelianos pero $\Sym_3$ no es nilpotente pues
% 	\[
% 		\gamma_1(\Sym_3)=\Alt_3,\quad
% 		\gamma_2(\Sym_3)=[\Alt_3,\Sym_3]=\Alt_3.
% 	\]
% 	Luego $\gamma_i(\Sym_3)\ne1$ para todo $i\geq1$. 
% \end{example}

\begin{example}
    The group $G=\Alt_4$ is not nilpotent, as 
	\[
		\gamma_1(G)=G,\quad
		\gamma_j(G)=\{\id,(12)(34),(13)(24),(14)(23)\}\simeq C_2\times C_2
	\]
	for all $j\geq2$. 
\end{example}

\begin{exercise}
	\label{xca:gamma}
	Let $G$ be group. Prove the following statements:
	\begin{enumerate}
		\item Each $\gamma_i(G)$ is a characteristic group of $G$.
		\item $\gamma_i(G)\supseteq\gamma_{i+1}(G)$ for all $i\geq1$.
		\item If $f\colon G\to H$ is a surjective group homomorphism, then 
			$f(\gamma_i(G))=\gamma_i(H)$ for all $i\geq1$.
	\end{enumerate}
\end{exercise}

% \begin{exercise}
% 	\label{xca:HxK_nilpotente}
% 	Demuestre que si $H$ y $K$ son nilpotentes entonces $H\times K$ es
% 	nilpotente.
% \end{exercise}

\begin{theorem}
	\label{theorem:nilpotent}
	Let $G$ be a nilpotent group. 
	\begin{enumerate}
		\item If $H$ is a subgroup of $G$, then $H$ is nilpotent. 
		\item If $f\colon G\to H$ is a surjective group homomorphism, then $H$ is nilpotent. 
	\end{enumerate}
\end{theorem}

\begin{proof}
	For the first statement note that $\gamma_i(H)\subseteq\gamma_i(G)$ for all 
	$i\geq1$. Let us prove the second claim, if there exists $c$ such that $\gamma_{c+1}(G)=\{1\}$, 
	then 
	\[
	\gamma_{c+1}(H)=f(\gamma_{c+1}(G))=f(\{1\})=\{1\}.\qedhere
	\]
\end{proof}

\begin{example}
    The group $\SL_2(3)$ is not nilpotent, as $\Alt_4$ 
	is a quotient of $\SL_2(3)$. 
\end{example}

There exist a non-nilpotent group $G$ with a normal subgroup $K$ 
such that $K$ and $G/K$ are both nilpotent. For example, take $G=\Sym_3$ and $K=\Alt_3$. 

\begin{exercise}
	Let $p$ be a prime number. Prove that finite $p$-groups are nilpotent. 
\end{exercise}

\begin{theorem}
	\label{theorem:gamma}
	Let $G$ be a group. Then $[\gamma_i(G),\gamma_j(G)]\subseteq
	\gamma_{i+j}(G)$ for all $i,j\geq1$.	
\end{theorem}

\begin{proof}
	We proceed by induction on $i$. The case where $i=1$ is trivial, as by definition one has 
	$[G,\gamma_j(G)]=\gamma_{j+1}(G)$. Assume now that the result holds for 
	some $i\geq1$ and all $j\geq1$. 
	We first note that 	
	\begin{equation*}
		[G,\gamma_i(G),\gamma_j(G)]=[G,\gamma_{i+j}(G)]\subseteq \gamma_{i+j+1}(G)
	\end{equation*}
	by the inductive hypothesis. Moreover, again using the inductive hypothesis,  
	\begin{equation*}
	[\gamma_i(G),\gamma_j(G),G]=[\gamma_{i}(G),G,\gamma_{j}(G)]=[\gamma_i(G),\gamma_{j+1}(G)]\subseteq \gamma_{i+j+1}(G).
	\end{equation*}
	Lemma~\ref{lemma:3subgrupos_general} implies that 
	$[\gamma_j(G),G,\gamma_i(G)]\subseteq \gamma_{i+j+1}(G)$. Thus  
	\[
	[\gamma_{i+1}(G),\gamma_{j}(G)]=[[G,\gamma_{i}(G)],\gamma_j(G)]=[\gamma_j(G),G,\gamma_i(G)]
	\subseteq \gamma_{i+j+1}(G).\qedhere
	\]
\end{proof}

Certainly we can consider other type of arbitrary commutators, say for example 
$[[G,G],G]$ and $[G,G,G]=[G,[G,G]]$. This naturally suggest the notion of the
weight of a commutator. For example, $[[G,G],G]$ and $[G,G,G]=[G,[G,G]]$ are
both commutators of weight three. 

\begin{corollary}
	Every commutator of weight $n$ is contained in 
	$\gamma_n(G)$.
\end{corollary}

\begin{proof}
	We proceed by induction on $n$. The case $n=1$ is trivial, so assume that
	the result holds for some $n\geq1$.  Let  
	$[A,B]$ be a commutator, where $A$ is a commutator of weight $k$,
	$B$ is a commutator of weight $l$ and $n+1=k+l$. Since $k<n$ and $l<n$, the inductive 
	hypothesis implies that $A\subseteq \gamma_k(G)$ y $B\subseteq
	\gamma_l(G)$. Thus 
	\[
	[A,B]\subseteq [\gamma_k(G),\gamma_l(G)]\subseteq
	\gamma_{k+l}(G)
	\]
	by the previous theorem. 
\end{proof}

\index{Normalizer condition}
Nilpotent groups satisfy the normalizer condition. A group 
$G$ satisfies the \textbf{normalizer condition} if each proper subset is smaller 
than its normalizer. 

\begin{lemma}[normalizer condition]
	\label{lem:normalizer}
	Let $G$ be a nilpotent group. If $H$ is a proper subgroup of $G$, then 
	$H\subsetneq N_G(H)$.
\end{lemma}

\begin{proof}
	Since $G$ is nilpotent, there a positive integer $c$ such that 
	\[
	G=\gamma_1(G)\supseteq\cdots\supseteq\gamma_{c+1}(G)=\{1\}.
	\]
	Since 
	$\{1\}=\gamma_{c+1}(G)\subseteq H$ and $\gamma_1(G)\not\subseteq H$, 
	let $k$ be the smallest positive integer such that $\gamma_k(G)\subseteq H$. Since 
	\[
		[H,\gamma_{k-1}(G)]\subseteq [G,\gamma_{k-1}(G)]=\gamma_k(G)\subseteq H,
	\]
	it follows that 
	$xHx^{-1}\subseteq H$ for all $x\in\gamma_{k-1}(G)$,
	so  $\gamma_{k-1}(G)\subseteq N_G(H)$. If $N_G(H)=H$, then 
	$\gamma_{k-1}(G)\subseteq H$, a contradiction to the minimality of $k$. 
\end{proof}

%\begin{example}
%	Un grupo $G$ es nilpotente de clase dos si y sólo $\gamma_2(G)

%\end{example}

For a group $G$ we define the sequence $\zeta_0(G),\zeta_1(G),\dots$
recursively as 
\[
	\zeta_0(G)=\{1\},\quad
	\zeta_{i+1}(G)=\{g\in G:[x,g]\in\zeta_{i}(G)\text{ para todo $x\in G$}\},\quad i\geq 0.
\]
In particular, $\zeta_1(G)=Z(G)$.

\begin{lemma}
	\label{lem:central_ascendente}
	Let $G$ be a group. Each $\zeta_i(G)$ is a normal
	subgroup of $G$. 
\end{lemma}

\begin{proof}
	We proceed by induction on $i$. The case $i=0$ is trivial, as 
	$\zeta_0(G)=\{1\}$.  Assume that the result holds for some $i\geq0$.
	We claim that $\zeta_{i+1}(G)$ is a subgroup of $G$. 
	Let $g,h\in \zeta_{i+1}(G)$ and $x\in G$. The inductive hypothesis implies that 
	\begin{align*}
	&[g^{-1},x]=(xg^{-1})[g,x^{-1}](xg^{-1})^{-1}\in (xg^{-1})\zeta_i(G)(xg^{-1})^{-1}=\zeta_i(G),\\
	&[gh,x]=[g,hxh^{-1}][h,x]\in \zeta_{i}(G).
	\end{align*}
	Since $1\in\zeta_{i+1}(G)$, the sets $\zeta_i(G)$ are subgroups of $G$. 
	
	To prove 
	that each subgroup is normal we also proceed by induction on $i$. 
	If $g\in\zeta_{i+1}(G)$ and $x\in G$, then $xgx^{-1}\in\zeta_{i+1}(G)$. Indeed,  
	\[
	[xgx^{-1},y]=x[g,x^{-1}yx]x^{-1}\in\zeta_{i}(G)
	\]
	for all $y\in G$.
\end{proof}


\index{Ascending!central series}
For a group $G$ the \textbf{ascending central series} of $G$ is the sequence 
\[
	\{1\}=\zeta_0(G)\subseteq\zeta_1(G)\subseteq\zeta_2(G)\subseteq\cdots
\]

%\index{Grupo!perfecto}
A group $G$ is said to be \textbf{perfect} if $[G,G]=G$. Note that
$G$ is perfect if and only if $G/[G,G]$ is trivial. The alternating 
simple group $\Alt_5$ is the smallest non-trivial perfect group. 

\begin{example}
The groups $\SL_2(2)$ and $\SL_2(3)$ are not perfect. 	
\end{example}

Let $p$ be a prime number and $q=p^m$ for some $m\in\N$.  
The groups $\SL_n(q)$ are perfect except the cases $\SL_2(2)$ and $\SL_2(3)$. As an example,
let us prove that $\SL_2(q)$ is perfect if $p\geq5$ is a prime number. We first 
claim that $\SL_2(q)$ is generated by matrices
$X_{ij}(\lambda)=I+\lambda E_{ij}$, where $I$ denotes the identity matrix, 
$E_{ij}$ is the matriz with a one at position $(i,j)$ and zero in all other entries, 
$i,j\in\{1,2\}$ and $\lambda\in\F_q\setminus\{0\}$. First note that
a matrix $\begin{pmatrix}1&b\\c&d\end{pmatrix}\in\SL_2(q)$ is 
a product of some of the $X_{ij}(\lambda)$, as 
\[
\begin{pmatrix}
1&b\\
c&d	
\end{pmatrix}
=\begin{pmatrix}
1&0\\
c&1
\end{pmatrix}
\begin{pmatrix}
1&b\\
0&1	
\end{pmatrix}
=X_{21}(c)X_{12}(b).
\]
This implies that a matrix $\begin{pmatrix}a&b\\c&d\end{pmatrix}\in\SL_2(q)$ 
with $c\ne 0$ is also a product
of some $X_{ij}(\lambda)$. Indeed, if
$\lambda$ is such that $a=1-\lambda c$, then
\begin{align*}
\begin{pmatrix}
a&b\\
c&d	
\end{pmatrix}
&=\begin{pmatrix}
1&-\lambda\\
0&1	
\end{pmatrix}
\begin{pmatrix}
1&b+\lambda d\\
c&d	
\end{pmatrix}
%&=
%\begin{pmatrix}
%1&-\lambda\\
%0&1	
%\end{pmatrix}
%\begin{pmatrix}
%1&0\\
%c&1	
%\end{pmatrix}
%\begin{pmatrix}
%1&b+\lambda d\\
%0&1	
%\end{pmatrix}
%=X_{12}(-\lambda)X_{21}(c)X_{12}(b+\lambda d.
%\shortintertext{and hence}
%\begin{pmatrix}
%a&b\\
%c&d	
%\end{pmatrix}
=X_{12}(-\lambda)X_{21}(c)X_{12}(b+\lambda d).
\end{align*}
Finally, 
\[
\begin{pmatrix}
	a&b\\
	0&d
\end{pmatrix}
=\begin{pmatrix}
	1&0\\
	-1&1
\end{pmatrix}
\begin{pmatrix}
	a&b\\
	a&b+d
\end{pmatrix}
\]
and therefore $\begin{pmatrix}
	a&b\\
	0&d
\end{pmatrix}$ is a product of some $X_{ij}(\lambda)$ since
$\begin{pmatrix}
a&b\\
a&b+d	
\end{pmatrix}$ 
is a product of some $X_{ij}(\lambda)$. 
To prove that $[\SL_2(q),\SL_2(q)]=\SL_2(q)$ we first 
note that
\[
\left[\begin{pmatrix}a&0\\0&a^{-1}\end{pmatrix},\begin{pmatrix}1&b\\0&1\end{pmatrix}\right]
=\begin{pmatrix}
1 & (a^2-1)b\\
0 & 1
\end{pmatrix}.
\]	

Since $q\geq 3$, given $\lambda\in\F_q$ and $a\in\F_q\setminus\{-1,0,1\}$, there exists
$b\in\F_q$ such that $\lambda=(a^2-1)b$. This implies that each $X_{ij}(\lambda)$ belongs to the
commutator subgroup of $\SL_2(q)$. 


\begin{exercise}
Let $q\geq5$. 
Prove that $\SL_n(q)$ is perfect.  	
\end{exercise}


\begin{exercise}
Let $G$ be a perfect group and $N$ be a normal subgroup of $G$. Then $G/N$ is perfect.  	
\end{exercise}

\begin{theorem}[Gr\"un]
	\label{theorem:Grun}
	\index{Gr\"un!theorem}
	If $G$ is a perfect group, then $Z(G/Z(G))=\{1\}$. 
\end{theorem}

\begin{proof}
	The three subgroups lemma with $X=Y=G$, $Z=\zeta_2(G)$ and $N=\{1\}$ yields  
	\[
	\{1\}=[\zeta_2(G),G,G]=[\zeta_2(G),[G,G]]=[\zeta_2(G),G].
	\]
	Thus 	
	$\zeta_2(G)\subseteq Z(G)$. Now we prove that $Z(G/Z(G))$ is trivial. Let $\pi\colon G\to G/Z(G)$ be the canonical map
	and $x\in G$ be such that 
	$\pi(x)$ is a central element. Then 
	\[
	[\pi(x),\pi(y)]=\pi([x,y])=1
	\]
	for all $y\in G$. In particular, 
	$[x,y]\in Z(G)=\zeta_1(G)$ for all $y\in G$. This means that $x\in\zeta_2(G)\subseteq Z(G)$. 
\end{proof}

\index{Normalizer}
\index{Centralizer}
A subgroup $K$ of $G$ \textbf{normalizes} a subgroup 
$H$ if $K\subseteq N_G(H)$.
A subgroup $K$ of $G$ \textbf{centralizes} a subgroup 
$H$ if $K\subseteq C_G(H)$, that is if and only if $[H,K]=\{1\}$.

%\begin{exercise}
%	Sean $K$ y $H$ subgrupos de $G$ con $K\subseteq H$ y $K$ normal en $G$.
%	Demuestre que $[H,G]\subseteq K$ si y sólo si $H/K\subseteq Z(G/K)$. 
%\end{exercise}
\begin{lemma}
	\label{lem:gamma_zeta}
	Let $G$ be a group. There exists $c$ such that $\zeta_c(G)=G$ if and only if 
	$\gamma_{c+1}(G)=\{1\}$. In this case,  
	\[
	\gamma_{i+1}(G)\subseteq\zeta_{c-i}(G)
	\]
	for all $i\in\{0,1,\dots,c\}$. 
\end{lemma}

\begin{proof}
	Assume first that $\zeta_c(G)=G$. To prove that 
    $\gamma_{i+1}(G)\subseteq\zeta_{c-i}(G)$ we proceed by induction. The case where $i=0$ is
	trivial, so assume the result holds for some $i\geq0$. If
	$g\in\gamma_{i+2}(G)=[G,\gamma_{i+1}(G)]$, then   
	\[
	g=\prod_{k=1}^N [x_k,g_k],
	\]
	for some $g_1,\dots,g_N\in\gamma_{i+1}(G)$ and $x_1,\dots,x_N\in G$. By the inductice hypothesis, 
	\[
	g_k\in\gamma_i(G)\subseteq\zeta_{c-i}(G)
	\]
	for all $k$ and thus $[x_k,g_k]\in\zeta_{c-i-1}(G)$ for all $k$. Hence 
	$g\in\zeta_{c-(i+1)}(G)$. From this the claim follows.
	
	Assume now that $\gamma_{c+1}(G)=\{1\}$. We prove that 
	$\gamma_{i+1}(G)\subseteq\zeta_{c-i}(G)$ for all $i$. We proceed by backward induction on $i$. 
	The case $i=c$ is trivial, so assume the
	result holds for some $i+1\leq c$. Let $g\in\gamma_{i}(G)$. By the inductive hypothesis, 
	\[
	[x,g]\in [G,\gamma_i(G)]=\gamma_{i+1}(G)\subseteq\zeta_{c-i}(G).
	\]
	Thus $g\in\zeta_{c-i+1}(G)$ by definition. 
\end{proof}

\begin{example}
	If $G=\Sym_3$, then $\zeta_j(G)=\{1\}$ for all $j\geq 0$: 
\end{example}

\index{Central!series}
A \textbf{central series} of a group $G$ is a sequence
\[
	G=G_0\supseteq G_1\supseteq\cdots\supseteq G_n=\{1\}
\]
of normal subgroups of $G$ such that for each $i\in\{1,\dots,n\}$, 
$\pi_i(G_{i-1})$ is a subgroup of $Z(G/G_i)$, where $\pi_i\colon G\to
G/G_i$ is the canonical map. 

\begin{proposition}
	\label{pro:serie_central}
	Let $G$ be a group and $G=G_0\supseteq G_1\supseteq\cdots\supseteq G_n=\{1\}$
	be a central series of $G$. Then $\gamma_{i+1}(G)\subseteq G_i$ for all $i$.
\end{proposition}

\begin{proof}
	We proceed by induction on $i$. 
	The case $i=0$ is trivial, so we assume that 
	the result holds for some 
	$i\geq0$. 
	Let $\pi_i\colon G\to G/G_i$ is the canonical map. 
	Since $\pi_i(G_{i-1})\subseteq Z(G/G_{i})$, it follows that
	\[
	\pi([G,G_{i-1}])=[\pi_i(G),\pi_i(G_{i-1})]=\{1\}.
	\]
	This implies that $[G,G_{i-1}]\subseteq\ker\pi_i=G_{i-1}$. Hence
	\[
	\gamma_{i+1}(G)=[G,\gamma_i(G)]\subseteq [G,G_{i-1}]\subseteq G_i.\qedhere 
	\]
\end{proof}

% extender el lema para ver qué pasa con zeta_i

\begin{exercise}
	A group is nilpotent if and only if it admits a central series.
\end{exercise}

%\begin{proof}
%	If $G$ is nilpotent, then the $\gamma_j(G)$ form a central series for $G$. Conversely, if 
%	$G=G_0\supseteq
%	G_1\supseteq\cdots\supseteq G_n=\{1\}$ is a central series of $G$, then 
%	$G$ is nilpotent by Lemma~\ref{lem:serie_central}. 
%\end{proof}

\begin{exercise}
\label{xca:nilpotente_central}
	Let $G$ be a group. If $K$ is a central subgroup of $G$ such that 
	$G/K$ is nilpotent, then $G$ is nilpotent.
\end{exercise}

\begin{theorem}[Hirsch]
	\label{thm:Z(nilpotent)}
	\index{Hirsch's Theorem}
	Let $G$ be a nilpotent group. If $H$ is a non-trivial normal subgroup of $G$, then 
	$H\cap Z(G)\ne\{1\}$. In particular, $Z(G)\ne\{1\}$. 
\end{theorem}

\begin{proof}
	Since $\zeta_0(G)=\{1\}$ and there exists $c$ such that $\zeta_c(G)=G$, there exists  
	\[
	m=\min\{k:H\cap\zeta_k(G)\ne\{1\}\}.
	\]
	Since $H$ is normal, 
	\[
	[H\cap\zeta_m(G),G]\subseteq H\cap[\zeta_m(G),G]\subseteq H\cap\zeta_{m-1}(G)=\{1\}.
	\]
	Thus $\{1\}\ne H\cap\zeta_m(G)\subseteq H\cap Z(G)$. If $H=G$, then $Z(G)\ne\{1\}$. 
\end{proof}

\begin{exercise}
\label{xca:nilpotente_minimalnormal}
	Let $G$ be a nilpotent group and $M$ be a minimal normal subgroup of $G$. 
	Then $M\subseteq Z(G)$.
\end{exercise}

% \begin{svgraybox}
% 	Como $M\cap Z(G)$ es normal en $G$, la minimalidad de $M$ implica que hay
% 	dos posibilidades: $M\cap Z(G)$ es trivial o bien $M=M\cap Z(G)\subseteq Z(G)$.
% 	Por el teorema~\ref{theorem:Z(nilpotent)}, $M\cap Z(G)\ne 1$.
% \end{svgraybox}

A subgroup $M$ of $G$ is \textbf{maximal normal} if it is maximal
among all normal subgroups of $G$.  

\begin{corollary}
	Let $G$ be a non-abelian nilpotent group and $A$ be an abelian 
	maximal normal subgroup of $G$. Then $A=C_G(A)$.
\end{corollary}

\begin{proof}
	Since $A$ is abelian, $A\subseteq C_G(A)$. Assume that $A\ne C_G(A)$.
	The centralizer $C_G(A)$ is normal in $G$. In fact, since $A$ is normal in $G$, 
	\[
		gC_G(A)g^{-1}=C_G(gAg^{-1})=C_G(A)
	\]
	for all $g\in G$.  Let $\pi\colon G\to G/A$ be the canonical map.
	Then $\pi(C_G(A))$ is a non-trivial normal subgroup of $\pi(G)$. Since 
	$G$ is nilpotent, $\pi(G)$ is nilpotent. By Hirsch's theorem, 
	$\pi(C_G(A))\cap Z(\pi(G))\ne\{1\}$. Let
	$x\in C_G(A)\setminus A$ be such that $\pi(x)$ is central in $\pi(G)$. 
	Note that if $g\in G$, then $gxg^{-1}\in C_G(A)$. 
	Then 
	$\langle A,x\rangle$ is an abelian normal subgroup of $G$ such that   
	$A\subsetneq \langle
	A,x\rangle\subsetneq G$, a contradiction. 
\end{proof}

\begin{theorem}
	Let $G$ be a nilpotent group. The following statements hold:
	\begin{enumerate}
		\item Every minimal normal subgroup of $G$ has prime order and it is central. 
		\item Every maximal subgroup of $G$ is normal, has prime index and contains $[G,G]$. 
	\end{enumerate}
\end{theorem}

\begin{proof}
	We first prove (1). Let $N$ be a minimal normal subgroup of $G$. Since $G$ is nilpotent, 
	$N\cap Z(G)\ne\{1\}$ by Hirsch's theorem. It follows that $N\cap Z(G)$ is a normal subgroup of $G$ contained in $N$. 
	Thus $N=N\cap Z(G)\subseteq
	Z(G)$ by the minimality of $N$. In particular, $N$ is abelian. Since 
	every subgroup of $N$ is normal in $G$, $N$ is simple and therefore $N\simeq
	C_p$ for some prime number $p$.

	We now prove (2). If $M$ is a maximal subgroup, then $M$
	is normal en $G$ by the normalizer condition. The maximality of $M$ implies that 
	$G/M$ contains no non-trivial proper subgroups. Thus 
	$G/M\simeq C_p$ for some prime number $p$. Since  
	$G/M$ is abelian, $[G,G]\subseteq M$. 
\end{proof}

The theorem does not prove the existence of maximal subgroups, see for example what happens with
the additive group of rational numbers. 

\begin{proposition}
	\label{pro:g^n}
	Let $G$ be a nilpotent group and $H$ be a subgroup of $G$ of index $n$. If 
	$g\in G$, then $g^n\in H$.
\end{proposition}

%%% TODO: hacer inducción en el índice para escribirlo mejor

\begin{proof}
	El resultado es obvio en el caso en que $H$ sea un subgrupo normal.  Sea
	$H_0=H$ y $H_{i+1}=N_G(H_i)$ para $i\geq0$. Por definición, $H_{i}$ es
	normal en $H_{i+1}$ y además, como $G$ es nilpotente, si $H_i\ne G$
	entonces $H_i\subsetneq H_{i+1}$ por la condición normalizadora. 
	Como $(G:H)$ es finito, existe $k$ tal que $H_k=G$. Veamos que 
	\[
		g^{(G:H)}=g^{(H_k:H_{k-1})(H_{k-1}:H_{k-2})\cdots (H_1:H_0)}\in H.
	\]
	Observemos que $g^{(H_k:H_{k-1})}\in H_{k-1}$ pues $H_{k-1}$ es normal en $H_k=G$, y que, como 
	$g^{(H_k:H_{k-1})}\in H_k$, entonces 
	\[
	g^{(H_k:H_{k-2})}=g^{(H_k:H_{k-1})(H_{k-1}:H_{k-2})}=\left(g^{(H_k:H_{k-1})}\right)^{(H_{k-1}:H_{k-2})}\in H_{k-2}
	\]
	pues $H_{k-2}$ es normal en $H_{k-1}$. Al repetir este argumento, $g^{(G:H)}\in H$. 
\end{proof}

\begin{example}
	La proposición anterior no vale si el grupo $G$ no es
	nilpotente. Sea $G=\Sym_3$ y sea $H=\{\id,(12)\}$ de índice tres.  Si
	$g=(13)$ entonces $g^{3}=(13)\not\in H$.
\end{example}

El lema que daremos a continuación es una herramienta útil para hacer demostraciones por inducción
en grupos nilpotentes. 

\begin{lemma}
	\label{lem:a[GG]}
	Sea $G$ un grupo nilpotente de clase $c\geq2$. Si $x\in G$ entonces el subgrupo 
	$\langle x,[G,G]\rangle$ es nilpotente de clase $<c$.
\end{lemma}

\begin{proof}
	Sea $H=\langle x,[G,G]\rangle$.  Si $x\in [G,G]$, el resultado es cierto.
	Supongamos entonces que $x\not\in [G,G]$. Observemos que 
	\[
		H=\{x^nc:n\in\Z,c\in [G,G]\},
	\]
	pues $[G,G]$ es normal en $G$. Para demostrar el lema  
	alcanza entonces con probar que $[H,H]\subseteq\gamma_3(G)$. Sean $h=x^nc,k=x^md\in H$
	con $c,d\in [G,G]$. 
	Como 
	\[
	[h,x^m]=[x^n,[c,x^m]][c,x^m]\in\gamma_4(G)\gamma_3(G)\subseteq\gamma_3(G),
	\]
	entonces 
	\begin{align*}
		[h,k]&=[h,x^m][x^m,[h,d]][h,d]\\
			&=[x^n,[c,x^m]][c,x^m][x^m,[h,d]][h,d]\in\gamma_3(G).\qedhere
	\end{align*}
%	Como
%	$[G,G]=\gamma_2(G)\subseteq\zeta_{c-1}(G)$, al usar la definición de $H$ se
%	obtiene que $[G,G]\subseteq \zeta_{c-1}(G)\cap H\subseteq\zeta_{c-1}(H)$.
%	Luego $H/\zeta_{c-1}(H)$ es cíclico generado por $a\zeta_{c-1}(H)$. Si
%	$\zeta_{c-1}(H)=H$, no hay nada para demostrar. En caso contrario,
%	$Z(H)\subseteq\zeta_{c-1}(H)$ implicaría que $H$ es abeliano y luego $H$ es
%	nilpotente de clase uno.
\end{proof}

Veamos un ejemplo, está hecho con la computadora. 

\begin{example}
	Sea $G=\D_{8}=\langle r,s:r^{8}=s^2=1,srs=r^{-1}\rangle$ el grupo diedral
	de orden 16. El grupo $G$ es nilpotente de clase tres
	y $[G,G]=\{1,r^2,r^4,r^6\}\simeq C_4$. El subgrupo $\langle
	s,[G,G]\rangle\simeq\D_4$ es nilpotente de clase dos.
\end{example}

Ahora una aplicación del lema. 

\begin{theorem}
	\label{theorem:T(nilpotent)}
	Si $G$ es un grupo nilpotente, entonces
	\[
	T(G)=\{g\in G:g^n=1\text{ para algún $n\in\N$}\}
	\]
	es un subgrupo de $G$. 
\end{theorem}

\begin{proof}
	Sean $a,b\in T(G)$ y sean
	\[
		A=\langle a,[G,G]\rangle,\quad
		B=\langle b,[G,G]\rangle.
	\]
	Como $A$ y $B$ son nilpotentes por el lema anterior, por hipótesis
	inductiva, $T(A)$ es un subgrupo de $A$ y $T(B)$ es un subgrupo de $B$.
	Como $T(A)$ es característico en $A$ y $A$ es normal en $G$, $T(A)$ es
	normal en $G$. Similarmente se demuestra que $T(B)$ es normal en $B$.  
	Veamos ahora que todo elemento de $T(A)T(B)$ tiene orden finito: si
	$x\in T(A)T(B)$, digamos $x=a_1b_1$ con
	$a_1$ de orden $m$, entonces $x$ tiene orden finito pues 
	\begin{align*}
	x^m=(a_1b_1)^m&=%(a_1b_1a_1^{-1})(a_1^2b_1a_1^{-2})\cdots (a_1^{m-1} b_1 a_1^{-m+1}b_1)\\
	(a_1b_1a_1^{-1})(a_1^2b_1a_1^{-2})\cdots (a^{m-1} b_1 a^{-m+1})b_1\in T(B).
	\end{align*}
	
	Para entender mejor el truco hagamos un caso concreto, digamos $m=3$. La fórmula en este caso queda así:
	\begin{align*}
	(a_1b_1)^3&=(a_1b_1)(a_1b_1)(a_1b_1)\\
	&=(a_1b_1a_1^{-1})(a_1^2b_1a_1^{-2})a_1^3b_1
	=(a_1b_1a_1^{-1})(a_1^2b_1a_1^{-2})b_1,
	\end{align*}
	pues $a_1^3=1$.
	
	El truco nos permite entonces demostrar que $ab$ y $a^{-1}$ tienen ambos 
	orden finito. Luego $T(G)$ es un
	subgrupo de $G$.
\end{proof}

Otra aplicación.

\begin{theorem}
	\label{theorem:a=b}
	Sea $G$ un grupo nilpotente y sin torsión y sean $a,b\in G$. Si existe
	$n\ne 0$ tal que $a^n=b^n$ entonces $a=b$.
\end{theorem}

\begin{proof}
	Procederemos por inducción en el orden de nilpotencia $c$ de $G$. El
	resultado es trivialmente cierto si $G$ es abeliano. Supongamos entonces
	que $G$ es nilpotente de índice $c\geq1$. Como $\langle a,[G,G]\rangle$ es un
	subgrupo de $G$ nilpotente de índice $<c$, y $bab^{-1}=[b,a]a\in \langle
	a,[G,G]\rangle$, por hipótesis inductiva, $ba=ab$ pues 
	\[
		a^n=(bab^{-1})^n=b^n.
	\]
	Luego $(ab^{-1})^n=a^nb^{-n}=1$ y por lo tanto, como $G$ no tiene torsión,
	se concluye que $a=b$.
\end{proof}

\begin{corollary}
	Sea $G$ un grupo nilpotente sin torsión. Sean $x,y\in G$ tales que
	$x^ny^m=y^mx^n$ para algún $n,m\ne 0$, entonces $xy=yx$.
\end{corollary}

\begin{proof}
	Sean $a=x$ y $b=y^nxy^{-n}$. Como $a^m=b^m$, el teorema anterior
	implica que $a=b$ y luego $xy^n=y^nx$. Al usar nuevamente ese 
	teorema, esta vez con con $a=y$ y $b=xyx^{-1}$, se
	concluye que $xy=yx$. 
\end{proof}

\begin{lemma}
	\label{lemma:fg}
	Sea $G$ un grupo finitamente generado y sea $H$ un subgrupo de índice
	finito. Entonces $H$ es finitamente generado.
\end{lemma}

\begin{proof}
	Supongamos que $G$ está generado por $\{g_1,\dots,g_m\}$. Podemos suponer, sin pérdida de generalidad, que
	para cada $i$ existe $k$ tal que $g_i^{-1}=g_k$. 
	
	Sea $\{1=t_1,\dots,t_n\}$ un transversal de $H$ en $G$, es decir un 
	conjunto de representantes de $G/H$. Para $i\in\{1,\dots,n\}$,
	$j\in\{1,\dots,m\}$, escribimos
	\[
		t_ig_j=h(i,j)t_{k(i,j)}.
	\]
	Vamos a demostrar que $H$ está generado por los $h(i,j)$. Sea $x\in H$.
	Escribamos 
	\begin{align*}
	x &=g_{i_1}\cdots g_{i_s}\\
	&= (t_1g_{i_1})g_{i_2}\cdots g_{i_s}\\
	&= h(1,i_1)t_{k_1}g_{i_2}\cdots g_{i_s}\\
	&= h(1,i_1)h(k_1,i_2)t_{k_2}g_{i_3}\cdots g_{i_s}\\
	&= h(1,i_1)h(k_1,i_2)\cdots h(k_{s-1},i_s)t_{k_s},
	\end{align*}
	donde $k_1,\dots,k_{s-1}\in\{1,\dots,n\}$. Como $t_{k_s}\in H$ pues $x\in H$, entonces
	$t_{k_s}=1\in H$ y luego $x$ está generado por los $h(i,j)$.
\end{proof}

\begin{theorem}
	\label{theorem:T(G)finito}
	Sea $G$ un grupo finitamente generado, de torsión y nilpotente. Entonces
	$G$ es finito. 	
\end{theorem}

\begin{proof}
	Procederemos por inducción en la clase de nilpotencia $c$. El caso $c=1$ es
	verdadero pues $G$ es abeliano. Supongamos entonces que el resultado es
	válido para $c\geq1$.  Como $[G,G]$ y $G/[G,G]$ son nilpotentes de clase
	$<c$, finitamente generados por el lema anterior y de torsión, por
	hipótesis inductiva se tiene que $[G,G]$ y $G/[G,G]$ son finitos. Luego $G$
	es también finito, de hecho puede probarse que $G$ es de orden $|[G,G]|(G:[G,G])$.
\end{proof}

%\begin{lemma}
%	\label{lemma:kgenerators}
%	Sea $G$ un grupo y sea $G=G_0\supseteq G_1\supseteq\cdots\supseteq G_k=1$
%	una sucesión de subgrupos de $G$ tal que cada $G_{i+1}$ es normal en $G_i$
%	y cada $G_{i}/G_{i+1}$ es cíclico. Todo subgrupo de $G$ es finitamente
%	generado por $k$ elementos.
%\end{lemma}
%
%\begin{proof}
%	Procedemos por inducción en $k$. Supongamos primero que $k=1$. Entonces
%	$G\simeq G_0/G_1$ es cíclico y luego todo subgrupo de $G$ está generado por
%	un elemento. Supongamos ahora que el resultado es válido para $k\geq1$. Sea
%	$H$ un subgrupo de $G$, sea $N=G_{1}$ y sea $\pi\colon G\to G/N$ el
%	morfismo canónico. El grupo 
%	\[
%		\pi(H)\simeq H/H\cap N
%	\]
%	es cíclico pues un un subgrupo del grupo cíclico $G_k/G_{k-1}=G/N$. Como
%	existe $h\in H$ tal que $\pi(H)$ está generado por $\pi(h)$, se concluye que 
%	$H=\langle \pi(h),H\cap N\rangle$. Por hipótesis
%	inductiva, $H\cap N$ está generado por $k-1$ elementos y luego $H$ está
%	generado por $k$ elementos.
%\end{proof}
%
%\begin{theorem}
%	Sea $G$ un grupo nilpotente y finitamente generado. Entonces $T(G)$ es
%	finito.
%\end{theorem}
%
%%%% aca hay que hacer producto tensorial para construir una serie con factores cíclicos
%%%% ver libro de Khukhro
%%%% Nilpotent Groups and Their Automorphisms
%\begin{proof}
%	Sabemos por el teorema~\ref{theorem:} que existe una sucesión
%	$G=G_0\supseteq G_1\supseteq\cdots\supseteq G_k=G$ de subgrupos normales de
%	$G$ con factores cíclicos. 
%\end{proof}




%\section{Grupos finitos nilpotentes}

El siguiente lema también resultará muy útil, especialmente en caso de trabajar con 
grupos finitos nilpotentes. 

\begin{lemma}
	\label{lemma:normalizador}
	Sean $G$ un grupo finito, $p$ un primo que divide a $|G|$ y
	$P\in\Syl_p(G)$. Entonces
	\[
	N_G(N_G(P))=N_G(P). 
	\]
\end{lemma}

\begin{proof}
	Sea $H=N_G(P)$. Como $P$ es normal en $H$, $P$ es el único $p$-subgrupo de
	Sylow de $H$. Para ver que $N_G(H)=H$ basta demostrar que $N_G(H)\subseteq
	H$. Sea $g\in N_G(H)$. Como 
	\[
	gPg^{-1}\subseteq gHg^{-1}=H,
	\]
	$gPg^{-1}\in\Syl_p(H)$ y $H$ tiene un único $p$-subgrupo de Sylow, 
	$P=gPg^{-1}$.  Luego $g\in N_G(P)=H$. 
\end{proof}

\begin{theorem}
	\label{theorem:nilpotente:eq}
	Sea $G$ un grupo finito. Son equivalentes:
	\begin{enumerate}
		\item $G$ es nilpotente.
		\item Todo subgrupo de Sylow de $G$ es normal.
		\item $G$ es producto directo de sus subgrupos de Sylow.
	\end{enumerate}
\end{theorem}

\begin{proof}
	Veamos que $(1)\implies(2)$. Sea $P\in\Syl_p(G)$. Queremos ver que $P$ es
	normal en $G$, es decir $N_G(P)=G$.  Por el lema anterior, 
	$N_G(N_G(P))=N_G(P)$. La condición normalizadora implica entonces que $N_G(P)=G$.

	Veamos ahora que $(2)\implies(3)$. Sean $p_1,\cdots,p_k$ los factores
	primos de $|G|$ y para cada $i\in\{1,\dots,k\}$ sea $P_i\in\Syl_{p_i}(G)$.
	Por hipótesis, cada $P_j$ es normal en $G$.

	Vamos a demostrar que $P_1\cdots P_j\simeq P_1\times\cdots\times P_j$ para todo $j$.
	El caso $j=1$ es trivial. Supongamos entonces que el resultado vale para
	algún $j\geq 1$. Como 
	\[
	N=P_1\cdots P_j\simeq P_1\times\cdots\times P_j
	\]
	es normal en $G$ y tiene orden coprimo con $|P_{j+1}|$, $N\cap
	P_{j+1}=\{1\}$. Luego
	\[
		NP_{j+1}\simeq N\times P_{j+1}\simeq P_1\times\cdots\times P_j\times P_{j+1}
	\]
	pues $P_{j+1}$ es también normal en $G$. 

	Ahora que sabemos que $P_1\cdots P_k\simeq P_1\times\cdots\times P_k$ es un
	subgrupo de orden $|G|$, se concluye que $G=P_1\times\cdots\times P_k$.

	Para ver que $(3)\implies(1)$ simplemente hace falta observar que todo
	$p$-grupo es nilpotente (proposición~\ref{proposition:pgrupo_nilpotente}) y
	que el producto directo de finitos nilpotentes es nilpotente.
	%(ejercicio~\ref{exercise:HxK_nilpotente}).
\end{proof}

\begin{exercise}
	\label{xca:truco}
	Sea $G$ un grupo finito. Demuestre que si $P\in\Syl_p(G)$ y $M$ es un subgrupo de $G$ tal que
	$N_G(P)\subseteq M$ entonces $M=N_G(M)$. 
\end{exercise}

% \begin{svgraybox}
% 	Sea $x\in N_G(M)$. Como $P\subseteq M$ y $M$ es normal en $N_G(M)$,
% 	$xPx^{-1}\subseteq M$.  Como $P$ y $xPx^{-1}$ son $p$-subgrupos de Sylow de
% 	$M$, existe $m\in M$ tal que 
% 	\[
% 	mPm^{-1}=xPx^{-1}.
% 	\]
% 	Luego $x\in M$ pues
% 	$m^{-1}x\in N_G(P)\subseteq M$. 
% \end{svgraybox}

\begin{exercise}
	\label{xca:normalizadora}
	Sea $G$ un grupo finito. Son equivalentes:
	\begin{enumerate}
		\item $G$ es nilpotente.
		\item Si $H\subsetneq G$ es un subgrupo entonces $H\subsetneq N_G(H)$.
		\item Todo subgrupo maximal de $G$ es normal en $G$.
	\end{enumerate}
\end{exercise}

% \begin{svgraybox}
% 	Para demostrar que $(1)\implies(2)$ simplemente usamos el
% 	lema~\ref{lemma:normalizadora}. Para demostrar que $(2)\implies(3)$ hacemos
% 	lo siguiente: si $M$ es un subgrupo maximal, como $M\subsetneq N_G(M)$ por
% 	hipótesis, $N_G(M)=G$ por maximalidad. Finalmente demostremos que
% 	$(3)\implies(1)$.  Sea $P\in\Syl_p(G)$. Si $P$ no es normal en $G$,
% 	$N_G(P)\ne G$ y entonces existe un subgrupo maximal $M$ tal que
% 	$N_G(P)\subseteq M$. Como $M$ es normal en $G$, el
% 	ejercicio~\ref{exercise:truco} implica que $M=N_G(M)=G$, una contradicción.
% 	Luego $P$ es normal en $G$ y entonces $G$ es nilpotente por el
% 	teorema~\ref{theorem:nilpotente:eq}.
% \end{svgraybox}

% ejercicio: G finito. Es nilpotente si y solo si dos elementos de ordenes coprimos conmnutan
% 5.41 rotman

\begin{theorem}
	Sea $G$ un grupo finito nilpotente. Si $p$ es un primo que divide al orden
	de $G$, existe un subgrupo minimal-normal de orden $p$ y existe un subgrupo
	maximal de índice $p$.
\end{theorem}

\begin{proof}
	Supongamos que $|G|=p^{\alpha}m$, donde $p$ es un primo coprimo con $m$.
	Escribamos $G=P\times H$, donde $P\in\Syl_p(G)$.  Como $Z(P)$ es un
	subgrupo normal no trivial de $P$, todo subgrupo 
	de $Z(P)$ minimal-normal en $G$ tiene orden $p$ (y esos subgrupos 
	existen porque $G$ es un grupo finito). Por otro lado, como $P$ contiene un subgrupo
	de índice $p$, que resulta maximal. Luego $P\times H$ también contiene un
	subgrupo maximal de índice $p$.
\end{proof}

\begin{exercise}
	\label{xca:pgrupos}
	Sea $p$ un primo y sea $G$ un grupo no trivial de orden $p^n$.
	Demuestre las siguientes afirmaciones:
	\begin{enumerate}
		\item $G$ tiene un subgrupo normal de orden $p$.
		\item Para todo $j\in\{0,\dots,n\}$ existe un subgrupo normal de
			$G$ de orden $p^j$. 
	\end{enumerate}
\end{exercise}

% \begin{svgraybox}
% 	\begin{enumerate}
% 		\item Sabemos que $Z(G)\ne1$. Sea $g\in Z(G)$ tal que $g\ne 1$.
% 			Supongamos que el orden de $g$ es $p^k$ para algún $k\geq1$.
% 			Entonces $g^{p^{k-1}}$ tiene orden $p$ y luego genera un subgrupo
% 			central de orden $p$. 
% 		\item Procederemos por inducción en $n$. Si $n=1$ el resultado es
% 			trivial.  Supongamos entonces que el resultado vale para un cierto
% 			$n\geq2$. Por el punto anterior, $G$ posee un subgrupo normal $N$
% 			de orden $p$. Luego $G/N$ tiene orden $p^{n-1}$. Sea $\pi\colon G\to G/N$ el morfismo canónico. 
% 			Por hipótesis
% 			inductiva, para cada $j\in\{0,\dots,n-1\}$. Por el teorema de la
% 			correspondecia, cada subgrupo normal $S_j$ de $G/N$ de orden $p^j$ se
% 			corresponde con un subgrupo $\pi^{-1}(S_j)$ de $G$ de orden $p^{j+1}$ pues, como
% 			$\pi$ es sobreyectiva, se tiene $\pi(\pi^{-1}(S_j))=S_j$, y luego
% 			\[
% 			p^j=|S_j|=|\pi(\pi^{-1}(S_j))|=\frac{|\pi^{-1}(S_j)|}{|\pi^{-1}(S_j)\cap N|}=\frac{|\pi^{-1}(S_j)|}{|N|}=\frac{|\pi^{-1}(S_j)|}{p}.
% 			\]
% 	\end{enumerate}
% \end{svgraybox}

\begin{exercise}
\label{xca:nilpotente_equivalencia}
	Sea $G$ un grupo finito. Demuestre que las siguientes afirmaciones son
	equivalentes: 
	\begin{enumerate}
		\item $G$ es nilpotente.
		\item Cualesquiera dos elementos de órdenes coprimos conmutan. 
		\item Todo cociente no trivial de $G$ tiene centro no trivial.
		\item Si $d$ divide al orden de $G$, existe un subgrupo normal de $G$
			de orden $d$.
	\end{enumerate}
\end{exercise}

% \begin{svgraybox}
% 	Veamos que $(1)\implies(2)$. Sabemos que $G$ es producto directo de sus
% 	subgrupos de Sylow, digamos $G=\prod_{i=1}^k S_i$, donde los $S_i$ son los
% 	distintos subgrupos de Sylow de $G$.  Sean
% 	$x=(x_1,\dots,x_k),y=(y_1,\dots,y_k)\in G$. Como $|x|$ y $|y|$ son
% 	coprimos, para cada $i\in\{1,\dots,k\}$ se tiene $x_i=1$ o $y_i=1$. Luego
% 	\[
% 		[x,y]=([x_1,y_1],[x_2,y_2],\dots,[x_k,y_k])=1. 
% 	\]
% 	Demostremos ahora que $(2)\implies(1)$. Supongamos que
% 	$|G|=p_1^{\alpha_1}\cdots p_k^{\alpha_k}$, donde los $p_j$ son primos
% 	distintos y para cada $j$ sea $P_j\in\Syl_{p_j}(G)$. Como elementos de
% 	órdenes coprimos conmutan, la función $P_1\times\cdots\times P_k\to G$,
% 	$(x_1,\dots,x_k)\mapsto x_1\cdots x_k$, es un morfismo inyectivo de grupos.
% 	Como entonces $G\simeq P_1\times\cdots P_k$, y cada $P_j$ es nilpotente,
% 	$G$ es nilpotente. 

% 	Para demostrar que $(1)\implies(3)$ simplemente hay que observar que todo
% 	cociente de $G$ es nilpotente y luego utilizar el
% 	teorema~\ref{theorem:Z(nilpotent)}. Demostremos que $(3)\implies(1)$. Como
% 	todo cociente no trivial de $G$ tiene centro no trivial, en particular
% 	$Z_1=Z(G)$ es no trivial. Si $Z_1=G$ entonces $G$ es abeliano y no hay nada
% 	para demostrar. Si $Z_1\ne G$ entonces $G/Z_1\ne 1$; luego $Z(G/Z_1)\ne 1$.
% 	Si $\pi_1\colon G\to G/Z_1$ es el morfismo canónico,
% 	$Z_2=\pi_1^{-1}(Z(G/Z_1))$. Inductivamente, si tenemos construido el
% 	subgrupo $Z_i$, $Z_i\ne G$ y  $\pi_i\colon G\to G/Z_{i}$ es el morfismo
% 	canónico, se define el subgrupo $Z_{i+1}=\pi_i^{-1}(Z(G/Z_i))$. Por
% 	construcción, $Z_i\subseteq Z_{i+1}$ para todo $i$. Como $G$ es finito,
% 	existe $k$ tal que $Z_k=G$ y luego $G$ es nilpotente.

% 	Demostremos que $(1)\implies(4)$. Esta implicación es consecuencia
% 	inmediata del ejercicio~\ref{exercise:pgrupos}. 
% 	Como $G$ es nilpotente, $G$ producto
% 	directo de sus $p$-grupos de Sylow. Si $d=p_1^{\alpha_1}\cdots
% 	p_k^{\alpha_k}$ es un divisor del orden de $G$, basta tomar
% 	$H=H_1\times\cdots\times H_k$, 
% 	donde cada $H_j$ es un subgrupo normal del $p_j$-subgrupo de Sylow de $G$
% 	de orden $p_j^{\alpha_j}$. Para demostrar que $(4)\implies(1)$ simplemente
% 	se aplica la hipótesis a cada $p$-subgrupo de $G$ de orden maximal.
% \end{svgraybox}

El siguiente resultado, que puede demostrarse en forma
completamente elemental, fue descubierto en 2014. 

\begin{theorem}[Baumslag--Wiegold]
	\index{Teorema de!Baumslag--Wiegold}
	Sea $G$ un grupo finito tal que $|xy|=|x||y|$ si $x$ e $y$ son elementos de
	órdenes coprimos. Entonces $G$ es nilpotente.
\end{theorem}

\begin{proof}
	Sean $p_1,\dots,p_n$ los distintos primos que dividen al orden de $G$. Para cada
	$i\in\{1,\dots,n\}$ sea $P_i\in\Syl_{p_i}(G)$.  Primero vamos a demostrar
	que $G=P_1\cdots P_n$. La inclusión no trivial equivale a 
	demostrar que la función 
	\[
		\psi\colon P_1\times\cdots\times P_n\to G,\quad
		(x_1,\dots,x_n)\mapsto x_1\cdots x_n
	\]
	es sobreyectiva. Procederemos de la siguiente forma. Primero vemos que  
	la función $\psi$ es inyectiva. En efecrto, si
	$\psi(x_1,\dots,x_n)=\psi(y_1,\dots,y_n)$, entonces 
	\[
		x_1\cdots
	x_n=y_1\cdots y_n. 
	\]
	Si $y_n\ne x_n$, entonces $x_1\cdots x_{n-1}=(y_1\cdots
	y_{n-1})y_nx_n^{-1}$. Pero $x_1\cdots x_{n-1}$ es un elemento de orden
	coprimo con $p_n$ y $y_1\cdots y_{n-1}y_nx_n^{-1}$ es un elemento de orden
	múltiplo de $p_n$, una contradicción. Entonces $x_n=y_n$ y luego, el mismo
	argumento, prueba que $\psi$ es inyectiva. Como $|P_1\times\cdots\times
	P_n|=|G|$, se concluye que $\psi$ es biyectiva. En particular, $\psi$ es sobreyectiva
	y luego $G=P_1\cdots P_n$.

	Veamos ahora que cada $P_j$ es normal en $G$.  Sea $j\in\{1,\dots,n\}$ y
	sea $x_j\in P_j$. Sea $g\in G$ y sea $y_j=gx_jg^{-1}$.  Como $y_j\in G$,
	podemos escribir $y_j=z_1\cdots z_n$ con $z_k\in P_k$ para todo $k$.  Como
	el orden de $y_j$ es una potencia del primo $p_j$, el elemento $z_1\cdots
	z_n$ tiene orden una potencia de $p_j$ y luego $z_k=1$ para todo $k\ne j$ y
	además $y_j=z_j\in P_j$. Como cada subgrupo de Sylow es normal en $G$, se
	concluye que $G$ es nilpotente.
\end{proof}


%\section{Grupos nilpotentes de clase dos}
We conclude the section with an exercise
on nilpotent groups of class two. 

\begin{exercise}
Let $G$ be a group and $x,y\in G$.  
\begin{enumerate}
	\item If $[x,y]\in C_G(x)\cap C_G(y)$, entonces
	$[x,y]^n=[x^n,y]=[x,y^n]$
	for all $n\in\Z$.
	\item If $G$ is nilpotent of class two, then $(xy)^n=[y,x]^{n(n-1)/2}x^ny^n$ 
	for all $n\in\N$.
\end{enumerate}	
\end{exercise}

\begin{exercise}
	Let $p$ be an odd prime number and  
	$P$ be a $p$-group of nilpotency class $\leq2$. 
	\begin{enumerate}
	\item 	If $[y,x]^p=1$ for all $x,y\in P$, then $P\to [P,P]$,
	$x\mapsto x^p$, is a group homomorphism. 
	\item $\{x\in P:x^p=1\}$ is a subgroup of $P$. 
	\end{enumerate}
\end{exercise}




%
%\begin{lemma}
%	\label{lemma:commutador}
%	Si $x,y\in G$ son tales que $[x,y]\in C_G(x)\cap C_G(y)$, entonces
%	\[
%	[x,y]^n=[x^n,y]=[x,y^n]
%	\]
%	para todo $n\in\Z$.
%\end{lemma}
%
%\begin{proof}
%	Procederemos por inducción en $n\geq0$. El caso $n=0$ es trivial. Supongamos entonces
%	que el resultado vale para algún $n\geq0$. Entonces, como $[x,y]\in C_G(x)$, 
%	\begin{align*}
%		[x,y]^{n+1}&=[x,y]^n[x,y]
%		=[x^n,y][x,y]=[x^n,y]xyx^{-1}y^{-1}=x[x^n,y]yx^{-1}y^{-1}=[x^{n+1},y].
%	\end{align*}
%	Para demostrar el lema en el caso $n<0$ basta observar que, como $[x,y]^{-1}=[x^{-1},y]$, 
%	$[x,y]^{-n}=[x^{-1},y]^n=[x^{-n},y]$.
%\end{proof}

%\begin{lemma}[Hall]
%    \index{Lema!de Hall}
%	\label{lemma:Hall}
%	Sea $G$ un grupo nilpotente de clase dos y $x,y\in G$. Entonces
%	\[
%		(xy)^n=[y,x]^{n(n-1)/2}x^ny^n
%	\]
%	para todo $n\in\N$.
%\end{lemma}
%
%\begin{proof}
%	Procederemos por inducción en $n$. Como el caso $n=1$ es trivial,
%	supongamos que el resultado es válido para algún $n\geq1$. Entonces,
%	gracias al lema anterior, 
%	\begin{align*}
%		(xy)^{n+1} &= (xy)^n(xy)=[y,x]^{n(n-1)/2}x^ny^{n-1}(yx)y\\
%		&=[y,x]^{n(n-1)/2}x^{n}[y^n,x]xy^{n+1}=[y,x]^{n(n-1)/2}[y,x]^nx^{n+1}y^{n+1}.\qedhere 
%	\end{align*}
%\end{proof}

%\begin{lemma}
%	\label{lemma:class2}
%	Sea $p>2$ un número primo y sea 
%	$P$ un $p$-grupo de clase de nilpotencia $\leq2$. 
%	Si $[y,x]^p=1$ para todo $x,y\in P$ entonces $P\to [P,P]$,
%	$x\mapsto x^p$, es un morfismo de grupos.
%\end{lemma}
%
%\begin{proof}
%	Por lema de Hall,
%	$(xy)^p=[y,x]^{p(p-1)/2}x^py^p=x^py^p$. 	
%\end{proof}
%
%\begin{theorem}
%	\label{thm:class2}
%	Sea $p>2$ un número primo y sea 
%	$P$ un $p$-grupo de clase de nilpotencia $\leq2$. 
%	Entonces $\{x\in P:x^p=1\}$ es un subgrupo de $P$.
%\end{theorem}
%
%\begin{proof}
%	Como $P$ tiene clase de nilpotencia dos, los conmutadores son centrales.
%	Para cada $x\in G$, la función $g\mapsto [g,x]$ es un morfismo de grupos
%	pues
%	\[
%		[gh,x]=ghxh^{-1}g^{-1}x^{-1}=g[h,x]xg^{-1}x^{-1}=[g,x][h,x].
%	\]
%	En particular, si $x,y\in P$ con $x^p=y^p=1$, entonces
%	\[
%		[x,y]^p=[x^p,y]=[1,y]=1.
%	\]
%	Luego, al usar el lema de Hall, se concluye que
%	$(xy)^p=[y,x]^{p(p-1)/2}x^py^p=1$.
%\end{proof}

\section*{B}

\index{Frattini!subgroup}
Let $G$ be a group. If $G$ has maximal subgroups, the Frattini subgroup
$\Phi(G)$ of $G$ is defined as the intersection of all maximal subgroups of $G$. 
Otherwise, $\Phi(G)=G$.

\begin{exercise}
\label{xca:Phi(G)char}
	If $G$ is a group, then $\Phi(G)$ is characteristic in $G$.
\end{exercise}

\begin{example}
	Let $G=\Sym_3$. The maximal subgroups of $G$ are 
	\[
	M_1=\langle (123)\rangle,
	\quad
	M_2=\langle (12)\rangle,
	\quad
	M_3=\langle (23)\rangle,
	\quad
	M_4=\langle (13)\rangle.
	\]
	Thus 
	$\Phi(G)=\{1\}$. 
\end{example}

\begin{example}
	Let $G=\langle g\rangle\simeq C_{12}$. The subgroups of $G$ are  
	\[
	\{1\},\quad
	\langle g^6\rangle\simeq C_2,\quad
	\langle g^4\rangle\simeq C_3,\quad
	\langle g^3\rangle\simeq C_4,\quad
	\langle g^2\rangle\simeq C_6,\quad
	G.
	\]
	The maximal subgroups are $\langle g^3\rangle\simeq C_4$ and $\langle
	g^2\rangle\simeq C_6$. Hence \[
	\Phi(G)=\langle g^3\rangle\cap \langle
	g^2\rangle=\langle g^6\rangle\simeq C_2.
	\] 
\[\begin{tikzcd}
	& {C_{12}} \\
	{C_4} && {C_6} \\
	& {C_2} && {C_3} \\
	&& {\{1\}}
	\arrow[no head, from=4-3, to=3-2]
	\arrow[no head, from=4-3, to=3-4]
	\arrow[no head, from=3-4, to=2-3]
	\arrow[no head, from=2-3, to=1-2]
	\arrow[no head, from=3-2, to=2-1]
	\arrow[no head, from=2-1, to=1-2]
	\arrow[no head, from=3-2, to=2-3]
\end{tikzcd}\]
\end{example}

\begin{exercise}
	Compute the Frattini subgroup of $G=\SL_2(3)$.  
\end{exercise}

\begin{lemma}[Dedekind]
	\label{lem:Dedekind}
	\index{Dedekind!lemma}
	Let $H$, $K$ and $L$ be subgroups of $G$ such that $H\subseteq L\subseteq G$. Then
	$HK\cap L=H(K\cap L)$.
\end{lemma}

\begin{proof}
	We only need to prove that $HK\cap L\subseteq H(K\cap L)$, 
	as the other inclusion is trivial. If 
	$x=hk\in HK\cap L$, where $x\in L$, $h\in H$ and $k\in K$,
	then $k=h^{-1}x\in L\cap K$ since $H\subseteq L$. Thus $x=hk\in H(L\cap
	K)$.
\end{proof}

\begin{lemma}
	\label{lem:G=HPhi(G)}
	Let $G$ be a finite group. If $H$ is a subgroup of $G$ such that $G=H\Phi(G)$,
	then $H=G$.
\end{lemma}

\begin{proof}
	Assume that $H\ne G$. Let $M$ be a maximal subgroup of $G$ such that
	$H\subseteq M$. Since $\Phi(G)\subseteq M$, it follows that $G=H\Phi(G)\subseteq M$, a contradiction
\end{proof}

\begin{proposition}
	\label{pro:phi(N)phi(G)}
	Let $G$ be a finite group and $N$ be a normal subgroup of $G$. Then $\Phi(N)\subseteq\Phi(G)$.
\end{proposition}

\begin{proof}
	Since $\Phi(N)$ is characteristic in $N$ and $N$ is normal in $G$, it follows that 
	$\Phi(N)$
	is normal in $G$.  Let $M$ be a maximal subgroup of $G$ such that 
	$\Phi(N)\not\subseteq M$.  Then $\Phi(N)M=G$, as 
	$M=\Phi(N)M\supseteq\Phi(N)$ otherwise. By applying Dedekind's lemma with 
	$H=\Phi(N)$, $K=M$ and $L=N$,   
	\[
		N=G\cap N=(\Phi(N)M)\cap N=\Phi(N)(M\cap N).
	\]
	The previous lemma with $G=N$ and $H=M\cap N$ implies that $\Phi(N)\subseteq
	N\subseteq M$, a contradiction. Hence every maximal subgroup of $G$ 
	contains $\Phi(N)$ and therefore $\Phi(G)\supseteq\Phi(N)$. 
\end{proof}

El lema que sigue nos dice que los elementos del subgrupo de Frattini son esencialmente
los "no-generadores" del grupo. 

\begin{lemma}[non-generators]
	\label{lemma:nongenerators}
	\index{Lema!de los no-generadores}
	Sea $G$ un grupo finito. Entonces 
	\[
	\Phi(G)=\{x\in G:\text{if $G=\langle x,Y\rangle$ for some $Y\subseteq G$, then $G=\langle Y\rangle$}\}.
	\]
\end{lemma}

\begin{proof}
	Veamos primero la inclusión $\supseteq$.  Sea $x\in G$ y sea $M$ un
	subgrupo maximal de $G$.  Si $x\not\in M$ entonces, como $G=\langle
	x,M\rangle$, se tiene $G=\langle M\rangle=M$, absurdo. Luego $x\in M$ para
	todo subgrupo maximal $M$ y entonces $x\in \Phi(G)$. 

	Veamos ahora la inclusión $\subseteq$. Sea $x\in\Phi(G)$ tal que $G=\langle
	x,Y\rangle$ para algún subconjunto $Y$ de $G$. Si $G\ne \langle Y\rangle$,
	existe un subgrupo maximal $M$ tal que $\langle Y\rangle\subseteq M$. Como
	$x\in M$, $G=\langle x,Y\rangle\subseteq M$, una contradicción.
\end{proof}

\begin{exercise}
	Let $p$ be a prime number and $G$ be an elementary abelian $p$-group. Then 
%	Sea $p$ un número primo. Sea $G$ un $p$-grupo elemental abeliano, es decir
%	$G\simeq C_p^m$ para algún $m\in\N$.  Supongamos además que
%	$G=\langle x_1\rangle\times\cdots\times\langle x_m\rangle$ con $\langle x_j\rangle\simeq C_p$.  
%	Veamos que $\Phi(G)$ es trivial. 
%	Sea $j\in\{1,\dots,m\}$ y sea $n_j\in\{1,\dots,p-1\}$. Como el conjunto
%	\[
%	\{x_1,\dots,x_{j-1},x_j^{n_j},x_{j+1},\dots,x_m\}
%	\]
%	genera al grupo $G$ y $\{x_1,\dots,x_{j-1},x_{j+1},\dots,x_m\}$ no lo hace,
%	entonces $x_j^{n_j}\not\in\Phi(G)$ por el lema de los no-generadores. 
	$\Phi(G)=\{1\}$.
\end{exercise}

\begin{theorem}[Frattini]
	\label{theorem:Frattini}
	\index{Frattini's!theorem}
	If $G$ is a finite group, then $\Phi(G)$ is nilpotent. 
\end{theorem}

\begin{proof}
	Let $P\in\Syl_p(\Phi(G))$ for some prime $p$. Since $\Phi(G)$ is normal in
	$G$, Frattini argument implies that 
	% (que vimos en el lema~\ref{lemma:Frattini_argument}) 
	$G=\Phi(G)N_G(P)$. By Lemma~\ref{lem:G=HPhi(G)},
	$G=N_G(P)$. Since Sylow subgroups of $\Phi(G)$ are normal in $G$,
	$\Phi(G)$ is nilpotent.
\end{proof}

\begin{exercise}
	\label{exercise:G/M}
	Sea $G$ un grupo y sea $M$ un subgrupo normal de $G$ maximal. Demuestre que
	$G/M$ es cíclico de orden primo. 
\end{exercise}

% \begin{svgraybox}
% 	Por el teorema de la correspondencia, $G/M$ no tiene subgrupos no trivales.
% 	Luego $G/M\simeq C_p$ para algún primo $p$.
% \end{svgraybox}

\begin{theorem}[Gasch\"utz]
	\label{thm:Gaschutz}
	\index{Gasch\"utz's!teorema de}
	Si $G$ es un grupo finito entonces 
	\[
	[G,G]\cap Z(G)\subseteq\Phi(G).
	\]
\end{theorem}

\begin{proof}
	Let $D=[G,G]\cap Z(G)$. Supongamos que $D$ no está contenido en $\Phi(G)$.
	Como $\Phi(G)$ está contenido en todo subgrupo maximal de $G$, existe un
	subgrupo maximal $M$ de $G$ tal que $D$ no está contenido en $M$.  Esto
	implica que $G=MD$. Como $D\subseteq Z(G)$, $M$ es normal en $G$ pues si
	$g=md\in G=MD$ entonces
	\[
		gMg^{-1}=(md)Md^{-1}m^{-1}=mMm^{-1}=M.
	\]
	Como $G/M$ es cíclico de orden
	primo, en particular, $G/M$ es abeliano y luego $[G,G]\subseteq M$. En consecuencia, 
	$D\subseteq [G,G]\subseteq M$, una contradicción.
\end{proof}

\begin{lemma}
	\label{lemma:N_G(H)=H}
	Sea $G$ un grupo finito y sea $P\in\Syl_p(G)$. Sea $H$ un subgrupo de $G$
	tal que $N_G(P)\subseteq H$. Entonces $N_G(H)=H$.
\end{lemma}

\begin{proof}
	Sea $x\in N_G(H)$. Como $P\in\Syl_p(H)$ y $Q=xPx^{-1}\in\Syl_p(H)$, gracias al segundo teorema de Sylow 
	existe
	$h\in H$ tal que $hQh^{-1}=(hx)P(hx)^{-1}=P$. Entonces $hx\in
	N_G(P)\subseteq H$ y luego $x\in H$. 
\end{proof}

\begin{theorem}[Wielandt]
	\label{theorem:Wielandt}
	\index{Teorema!de Wielandt}
	\index{Wielandt!teorema de}
	Sea $G$ un grupo finito. Entonces $G$ es nilpotente si y sólo si
	$[G,G]\subseteq\Phi(G)$.
\end{theorem}

\begin{proof}
	Supongamos que $[G,G]\subseteq\Phi(G)$. Sea $P\in\Syl_p(G)$. Si $N_G(P)\ne
	G$ entonces $N_G(P)\subseteq M$ para algún subgrupo maximal $M$ de $G$. Si
	$g\in G$ y $m\in M$ entonces, como 
	\[
		gmg^{-1}m^{-1}=[g,m]\in [G,G]\subseteq\Phi(G)\subseteq M,
	\]
	$M$ es normal en $G$. Como además $N_G(P)\subseteq M$, el
	lema~\ref{lemma:N_G(H)=H} implica que 
	\[
	G=N_G(M)=M,
	\]
	una contradicción.
	Luego $N_G(P)=G$. Todo subgrupo de Sylow de $G$ es normal en $G$ y entonces
	$G$ es nilpotente.

	Supongamos ahora que $G$ es nilpotente. Sea $M$ un subgrupo maximal de $G$.
	Como $M$ es normal en $G$ y maximal, $G/M$ no tiene subgrupos propios no triviales.
	Luego $G/M\simeq C_p$ para algún primo $p$. En particular $G/M$ es abeliano
	y luego $[G,G]\subseteq M$. Como $[G,G]$ está contenido en
	todo subgrupo maximal de $G$, $[G,G]\subseteq\Phi(G)$.
\end{proof}

\begin{theorem}
	\label{theorem:G/phi(G)}
	Sea $G$ un grupo finito. Entonces $G$ es nilpotente si y sólo si
	$G/\Phi(G)$ es nilpotente.
\end{theorem}

%%% TODO: la demostración no está bien explicada!
\begin{proof}
	Si $G$ es nilpotente, entonces $G/\Phi(G)$ es nilpotente. Supongamos que $G/\Phi(G)$ es
	nilpotente. Sea $P\in\Syl_p(G)$. Como
	$\Phi(G)P/\Phi(G)\in\Syl_p(G/\Phi(G))$ y $G/\Phi(G)$ es nilpotente,
	$\Phi(G)P/\Phi(G)$ es un subgrupo normal de $G/\Phi(G)$. Luego, por el
	teorema de la correspondencia, $\Phi(G)P$ es un subgrupo normal de $G$.
	Como $P\in\Syl_p(\Phi(G)P)$, el argumento de Frattini 
	(que vimos en el lema~\ref{lemma:Frattini_argument}) implica que
	\[
		G=\Phi(G)PN_G(P)=\Phi(G)N_G(P)
	\]
	pues $P\subseteq N_G(P)$. Luego $G=N_G(P)$ por el
	lema \ref{lemma:G=HPhi(G)}) 
	y entonces $P$ es normal en $G$. Esto
	implica que $G$ es nilpotente.
\end{proof}

\begin{theorem}[Hall]
	\index{Teorema!de Hall}
	\index{Hall!teorema de}
	\label{theorem:Hall_nilpotente}
	Sea $G$ un grupo finito y sea $N$ un subgrupo normal de $G$. Si $N$ y
	$G/[N,N]$ son nilpotentes, entonces $G$ es nilpotente.
\end{theorem}

\begin{proof}
	Como $N$ es nilpotente, $[N,N]\subseteq\Phi(N)$ por el
	teorema de Wielandt (teorema~\ref{theorem:Wielandt}).	
	Por la proposición~\ref{proposition:phi(N)phi(G)},
	$[N,N]\subseteq\Phi(N)\subseteq\Phi(G)$. 
	Por propiedad universal, existe un morfismo
	$G/[N,N]\to G/\Phi(G)$ sobreyectivo que hace conmutar el diagrama
    \[
    \begin{tikzcd}
	G & {G/\Phi(G)} \\
	{G/[N,N]}
	\arrow[from=1-1, to=1-2]
	\arrow[from=1-1, to=2-1]
	\arrow[dashed, from=2-1, to=1-2]
    \end{tikzcd}
    \]
%     \[
% 	\xymatrix{
% 	G
% 	\ar[d]
% 	\ar[r]
% 	& G/\Phi(G)
% 	\\
% 	G/[N,N]\ar@{-->}[ur]
% 	}
%    \xymatrix{ & P\ar[d]^f\ar@{-->}[ld]_h\\ M\ar[r]^g & N\ar[r] & 0 }
%    \]
	Como por hipótesis $G/[N,N]$ es nilpotente, $G/\Phi(G)$ es nilpotente por
	el teorema~\ref{theorem:nilpotente}. Luego $G$ es nilpotente por el
	teorema anterior. %~\ref{theorem:G/phi(G)}.
\end{proof}

\begin{definition}
	Un \textbf{conjunto minimal de generadores} de un grupo $G$ es un conjunto
	$X$ de generadores de $G$ tal que ningún subconjunto propio de $X$ genera a
	$G$.
\end{definition}

Es importante observar que un conjunto minimal de generadores puede no
tener cardinal mínimo. 
	
\begin{example}
	Sea $G=\langle g\rangle\simeq C_6$.  Si $a=g^2$ y
	$b=g^3$ entonces $\{a,b\}$ es un conjunto minimal de generadores de $G$,
	aunque no tiene cardinal mínimo pues por ejemplo $G=\langle ab\rangle$.
\end{example}
	
Si $p$ es un número primo, $\F_p$ denota al cuerpo de $p$ elementos. 

\begin{lemma}
	\label{lemma:Burnside:minimal}
	Sea $p$ un número primo y sea 
	$G$ un $p$-grupo finito. Entonces $G/\Phi(G)$ es un espacio vectorial
	sobre $\F_p$.
\end{lemma}

\begin{proof}
	Sea $K$ un subgrupo maximal de $G$. Como $G$ es nilpotente por la
	proposición~\ref{proposition:pgrupo_nilpotente}, $K$ es normal en $G$
	(ejercicio~\ref{xca:normalizadora}). Luego $G/K\simeq C_p$ por ser un $p$-grupo
	simple. 
	
	Basta ver que $G/\Phi(G)$ es $p$-grupo elemental abeliano. En un $p$-grupo
	pues $G$ es un $p$-grupo.  Sean $K_1,\dots,K_m$ son los subgrupos maximales
	de $G$. Si $x\in G$ entonces $x^p\in K_j$ para todo $j\in\{1,\dots,m\}$ y
	luego $x^p\in\Phi(G)=\cap_{j=1}^m K_j$. Además $G/\Phi(G)$ es abeliano pues
	$[G,G]\subseteq \Phi(G)$ por ser $G$ nilpotente por el teorema de Wielandt 
	(teorema~\ref{theorem:Wielandt}). 
\end{proof}

\begin{theorem}[Burnside]
	\label{theorem:Burnside:basis}
	Sea $p$ un número primo y sea $G$ un $p$-grupo finito. Si $X$ es un
	conjunto minimal de generadores entonces $|X|=\dim G/\Phi(G)$. 
\end{theorem}

%%% TODO: explicar mejor la demostración

\begin{proof}
	Vimos en el lema anterior que $G/\Phi(G)$ es un espacio
	vectorial sobre $\F_p$. Sea $\pi\colon G\to G/\Phi(G)$ el morfismo canónico
	y sea $\{x_1,\dots,x_n\}$ un conjunto minimal de generadores de $G$.
	Veamos que $\{\pi(x_1),\dots,\pi(x_n)\}$ es un conjunto linealmente
	independiente de $G/\Phi(G)$.  Supongamos sin perder generalidad que
	$\pi(x_1)\in\langle \pi(x_2),\dots,\pi(x_n)\rangle$. Existe entonces $y\in
	\langle x_2,\dots,x_n\rangle$ tal que $x_1y^{-1}\in\Phi(G)$. Como $G$ está
	generado por $\{x_1y^{-1},x_2,\dots,x_n\}$ y $x_1y^{-1}\in\Phi(G)$, el 
	lema de los no-generadores (lema~\ref{lemma:nongenerators}) implica que $G$ también está generado por
	$\{x_2,\dots,x_n\}$, una contradicción a la minimalidad. Luego $n=\dim
	G/\Phi(G)$.
\end{proof}

% TODO: agregar una aplicación (teorema de Hall). Ver Passman permutation groups, 11.7, pag 47

%\begin{corollary}
%	Sea $p$ un número primo y sea $G$ un $p$-grupo finito.  Todo elemento de
%	$\Phi(G)$ pertenece a algún conjunto minimal de generadores.
%\end{corollary}

\section*{C}

\begin{definition}
	\index{$p$-radical!de un grupo}
	Sea $G$ un grupo finito y sea $p$ un número primo. Se define el
	\textbf{$p$-radical} de $G$ como el subgrupo
	\[
		O_p(G)=\bigcap_{P\in\Syl_p(G)}P.
	\]
\end{definition}

\begin{lemma}
	\label{lemma:core:Op(G)}
	Sea $G$ un grupo finito y sea $p$ un número primo. 
	\begin{enumerate}
		\item $O_p(G)$ es normal en $G$.
		\item Si $N$ es un subgrupo normal de $G$ contenido en algún
			$P\in\Syl_p(G)$, entonces $N\subseteq O_p(G)$.
	\end{enumerate}
\end{lemma}

\begin{proof}
	Sea $P\in\Syl_p(G)$ y hagamos actuar a $G$ en $G/P$ por multiplicación a
	izquierda. Tenemos entonces un morfismo $\rho\colon G\to\Sym_{G/P}$ con
	núcleo
	\begin{align*}
		\ker\rho&=\{x\in G:\rho_x=\id\}
		=\{x\in G:xgP=gP\;\forall g\in G\}\\
		&=\{x\in G:x\in gPg^{-1}\;\forall g\in G\}=\bigcap_{g\in G}gPg^{-1}=O_p(G).
	\end{align*}
	Luego $O_p(G)$ es normal en $G$.

	Sea ahora $N$ un subgrupo normal de $G$ tal que $N\subseteq P$. Como para
	todo $g\in G$ se tiene $N=gNg^{-1}\subseteq gPg^{-1}$, se concluye que
	$N\subseteq O_p(G)$.
\end{proof}

\begin{definition}
	\index{Subgrupo!de Fitting}
	\index{Fitting!subgrupo de}
	Sea $G$ un grupo finito y sean $p_1,\dots,p_k$ los factores primos de
	$|G|$.  Se define el \textbf{subgrupo de Fitting} como el subgrupo
	\[
		F(G)=O_{p_1}(G)\cdots O_{p_k}(G)
	\]
\end{definition}

\begin{exercise}
	Demuestre que $F(G)$ es characterístico en $G$.
\end{exercise}

% \begin{svgraybox}
% 	Sea $f\in\Aut(G)$ y sea $p$ un primo. Como $f$ 
% 	permuta los $p$-subgrupos de Sylow de $G$, $f(O_p(G))=O_p(G)$. Luego
% 	$f(F(G))=F(G)$.
% \end{svgraybox}


\begin{example}
	Sea $G=\Sym_3$. Es fácil ver que $O_2(G)=\{1\}$ y que $O_3(G)=\langle
	(123)\rangle$. Entonces $F(G)=\langle (123)\rangle$.
\end{example}

\begin{theorem}[Fitting]
	\label{theorem:Fitting}
	Sea $G$ un grupo finito. El subgrupo de Fitting $F(G)$ es normal en $G$ y
	nilpotente. Además $F(G)$ contiene a todo subgrupo normal nilpotente de
	$G$.
\end{theorem}

\begin{proof}
	Por definición $|F(G)|$ es el producto de los órdenes de los $O_p(G)$.
	Como entonces $O_p(G)\in\Syl_p(F(G))$,  se concluye que $F(G)$ es
	nilpotente por tener un $p$-subgrupo de Sylow normal para cada primo $p$.
	Luego $F(G)$ es nilpotente por el teorema~\ref{theorem:nilpotente:eq}.

	Sea $N$ un subgrupo normal de $G$ nilpotente y sea $P\in\Syl_p(N)$. Como
	$N$ es nilpotente, $P$ es normal en $N$ y entonces $P$ es el único
	$p$-subgrupo de Sylow de $N$. Luego $P$ es característico en $N$ y entonces
	$P$ es normal en $G$. Como $N$ es nilpotente, $N$ es producto directo de
	sus subgrupos de Sylow. Luego $N\subseteq O_p(G)$ por el
	lema~\ref{lemma:core:Op(G)}.
\end{proof}

\begin{corollary}
	\label{corollary:Z(G)subsetF(G)}
	Sea $G$ un grupo finito. Entonces $Z(G)\subseteq F(G)$.
\end{corollary}

\begin{proof}
	Como $Z(G)$ es nilpotente (por ser abeliano) y $Z(G)$ es normal en $G$,
	$Z(G)\subseteq F(G)$ por el teorema de Fitting. 
	%~\ref{theorem:Fitting}.
\end{proof}

\begin{corollary}[Fitting]
	\label{corollary:Fitting}
	Sean $K$ y $L$ subgrupos normales nilpotentes de un grupo finito $G$.
	Entonces $KL$ es nilpotente.
\end{corollary}

\begin{proof}
	Por el teorema de Fitting sabemos que $K\subseteq F(G)$ y
	$L\subseteq F(G)$. Esto implica que $KL\subseteq F(G)$ y luego $KL$ es
	nilpotente pues $F(G)$ es nilpotente.
\end{proof}

\begin{corollary}
	\label{corollary:McapF(G)}
	Sea $G$ un grupo finito y sea $N$ un subgrupo normal de $G$. Entonces
	$N\cap F(G)=F(N)$.
\end{corollary}

\begin{proof}
	Como $F(N)$ es característico en $N$, $F(N)$ es normal en $G$. Luego
	$F(N)\subseteq N\cap F(G)$ pues $F(N)$ es nilpotente. 
	Para la otra inclusión, como
	$F(G)$ es normal en $G$, el subgrupo $F(G)\cap N$ es normal en $N$. Como $F(G)\cap N$
	es nilpotente, $F(G)\cap N\subseteq F(N)$. 
\end{proof}

Veamos una aplicación a grupos finitos resolubles. 

\begin{theorem}
	Sea $G$ un grupo finito no trivial y resoluble. Todo subgrupo normal $N$ no
	trivial contiene un subgrupo normal abeliano no trivial y este subgrupo está en realidad 
	contenido en $F(N)$. 
\end{theorem}

\begin{proof}
	Sabemos que $N\cap G^{(0)}=N\ne\{1\}$. Como $G$ es un grupo resoluble resoluble, 
	existe $m\in\N$ tal que $N\cap
	G^{(m)}=\{1\}$. Sea $n\in\N$ maximal tal que $N\cap G^{(n)}$ es no trivial. 
	%\ne \{1\}$. 
	Como $[N,N]\subseteq N$ y $[G^{(n)},G^{(n)}]=G^{(n+1)}$, 
	\[
	[N\cap G^{(n)},N\cap G^{(n)}]\subseteq N\cap G^{(n+1)}=\{1\}.
	\]
	Luego $N\cap G^{(n)}$ es un subgrupo abeliano de $G$. Como además es normal
	y nilpotente, $N\cap G^{(n)}\subseteq N\cap F(G)=F(N)$.
\end{proof}

\begin{theorem}
	\label{theorem:F(G)centraliza}
	Si $G$ es un grupo finito y $N$ es un subgrupo minimal-normal entonces
	entonces $F(G)\subseteq C_G(N)$.
\end{theorem}

\begin{proof}
	Por el teorema de Fitting, $F(G)$ es un subgrupo normal y nilpotente. 
	Sea $N$ un subgrupo minimal-normal de $G$. 
	El subgrupo $N\cap F(G)$
	es normal en $G$.  Además $[F(G),N]\subseteq N\cap F(G)$. Si $N\cap F(G)=\{1\}$ entonces
	$[F(G),N]=\{1\}$. Si no, $N=N\cap F(G)\subseteq F(G)$ por la minimalidad de $N$. Como
	$F(G)$ es nilpotente, $N\cap Z(F(G))\ne \{1\}$ por el
	teorema de Hirsch. 
	%~\ref{theorem:Z(nilpotent)}. 
	Como $Z(F(G))$ es característico en $F(G)$ y
	$F(G)$ es normal en $G$, $Z(F(G))$ es normal en $G$. Como $\{1\}\ne N\cap Z(F(G))$ es
	normal en $G$, la minimalidad de $N$ implica que $N=N\cap Z(F(G))\subseteq
	Z(F(G))$ y luego $[F(G),N]=\{1\}$. 
\end{proof}

\begin{corollary}
	Sea $G$ un grupo finito y resoluble. 
	\begin{enumerate}
		\item Si $N$ es un subgrupo minimal-normal entonces $N\subseteq
			Z(F(G))$. 
		\item Si $H$ es un subgrupo normal entonces $H\cap F(G)\ne\{1\}$.
	\end{enumerate}
\end{corollary}

\begin{proof}
	Demostremos la primera afirmación. Como $N$ es un $p$-grupo por el
	lema~\ref{lemma:minimal_normal}, $N$ es nilpotente y luego $N\subseteq
	F(G)$. 	Además $F(G)\subseteq C_G(N)$ por el
	teorema anterior.  Luego $N\subseteq Z(F(G))$. 

	Demostremos ahora la segunda afirmación. El subgrupo $H$ contiene un
	subgrupo minimal-normal $N$ y $N\subseteq F(G)$. Luego $H\cap F(G)\ne\{1\}$. 
\end{proof}

\begin{theorem}
	Sea $G$ un grupo finito.
	\begin{enumerate}
		\item $\Phi(G)\subseteq F(G)$ y $Z(G)\subseteq F(G)$.
		\item $F(G)/\Phi(G)\simeq F(G/\Phi(G))$.
	\end{enumerate}
\end{theorem}

\begin{proof}
	Demostremos la primera afirmación. Como $\Phi(G)$ es normal en $G$ y
	nilpotente por el teorema~\ref{theorem:Frattini} y $F(G)$ contiene a todo
	subgrupo normal nilpotente de $G$ (teorema~\ref{theorem:Fitting}),
	$\Phi(G)\subseteq F(G)$. Además $Z(G)$ es normal y nilpotente (por ser
	abeliano) y luego $Z(G)\subseteq F(G)$.

	Demostremos la segunda afirmación. Sea $\pi\colon G\to G/\Phi(G)$ el
	morfismo canónico. Como $F(G)$ es nilpotente, $\pi(F(G))$ es nilpotente y
	luego 
	\[
	\pi(F(G))\subseteq F(G/\Phi(G))
	\]
	por el teorema~\ref{theorem:Fitting}. Por otro lado, sea
	$H=\pi^{-1}(F(G/\Phi(G)))$. Por la correspondencia, $H$ es un subgrupo
	normal de $G$ que contiene a $\Phi(G)$. Si $P\in\Syl_p(H)$ entonces
	$\pi(P)\in\Syl_p(\pi(H))$ pues $\pi(P)\simeq P/P\cap \Phi(G)$ es un
	$p$-grupo y además $(\pi(H):\pi(P))$ es coprimo con $p$ pues 
	\[
	(\pi(H):\pi(P))
	=\frac{|\pi(H)|}{|\pi(P)|}
	=\frac{|H/\Phi(G)|}{|P/P\cap \Phi(G)|}
	=\frac{(H:P)}{(\Phi(G):P\cap\Phi(G))}
	\]
	es un divisor de $(H:P)$, que es coprimo con $p$. Como $\pi(H)$ es
	nilpotente, $\pi(P)$ es característico en $\pi(H)$ y luego $\pi(P)$ es
	normal en $\pi(G)=G/\Phi(G)$. Entonces $P\Phi(G)=\pi^{-1}(\pi(P))$ es
	normal en $G$. Como $P\in\Syl_p(P\Phi(G))$, el argumento de Frattini del
	lema~\ref{lemma:Frattini_argument} implica que $G=\Phi(G)N_G(P)$. Luego $P$
	es normal en $G$ por el lema~\ref{lemma:G=HPhi(G)}. Como $P$ es nilpotente
	y normal en $G$, entonces $P\subseteq F(G)$ por el
	teorema~\ref{theorem:Fitting}. Luego $H\subseteq F(G)$ y entonces
	$F(G/\Phi(G))=\pi(H)\subseteq \pi(F(G))$.
\end{proof}

%\begin{exercise}
%	Sea $G$ un grupo finito. Demuestre que
%	$F(G)/Z(G)\simeq F(G/Z(G))$.
%\end{exercise}
%
%\begin{svgraybox}
%	Sea $\pi\colon G\to G/Z(G)$ el morfismo canónico. 
%	Como $Z(G)$ es abeliano, $\pi(Z(G))$ es nilpotente y luego $\pi(Z(G))\subseteq F(G/Z(G))$. 
%\end{svgraybox}<++>

\section*{D}

% Frattini para braces
% Qué podemos decir de Fitting?

\section*{Notes}
